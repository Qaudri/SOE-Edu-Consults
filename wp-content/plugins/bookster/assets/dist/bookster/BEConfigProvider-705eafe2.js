import{R as e,d as t,y as n,_ as r,b as a,u as o,c as i,f as s,z as l}from"./prefetch.helper-04349684.js";function c({...a}){return e.createElement(t.ConfigProvider,{...n},e.createElement(r.DrawerBody,{...a}))}function u(){return e.createElement(e.Fragment,null,e.createElement(r.DrawerHeader,null,e.createElement(r.DrawerTitle,null,a.__("Closing","bookster")),e.createElement(r.DrawerCloseIcon,null)),e.createElement(c,null),e.createElement(r.DrawerFooter,null,e.createElement(r.DrawerClose,{asChild:!0},e.createElement(r.Button,{key:"back",tabIndex:-1,variant:"trivial",className:"bw-min-w-[6rem]"},a.__("Cancel","bookster"))),e.createElement(r.Button,{key:"submit",className:"bw-min-w-[6rem]"},a.__("Save","bookster"))))}function p(e){return function(){const e=o.getState().wpUserInfo;return e.isLoggedIn?e.caps:[]}().includes(e)}const m={writeAppt:window.booksterPublicData.permissionsSettings.agents_allow_edit_appointment,writeSchedule:window.booksterPublicData.permissionsSettings.agents_allow_edit_settings},d={pageSider:!0,testEmail:void 0!==window.booksterMeta.auth.wpUserInfo.email?window.booksterMeta.auth.wpUserInfo.email:"",dashboardIntervalRange:"month",calendarViewAgent:"timeGridWeek",calendarViewManager:"resourceTimelineDay",columnsForManager:{hidden:[],order:[]},columnsForAgent:{hidden:[],order:[]}},f="booksterLocalData";let g;function w(e=!1){if(g&&!e)return g;const t=localStorage.getItem(f);return t?(g=v(d,JSON.parse(t)),g):d}function h(e){const t=v(w(),e);g=t,localStorage.setItem(f,JSON.stringify(t))}function v(e,t){return Object.assign({},e,t)}function b(){const e=i.useLocation(),t=i.useNavigate();return function(n){const r=e.search;t({pathname:n,search:r})}}function E(e){}function y(){const e=s.booksterHooks.applyFilters(s.HOOK_NAMES.managerApptList.apptColumnIds,["book_time","service","customer","agent","status","payment","total"]);let t=w().columnsForManager.order;return e.forEach(((e,n)=>{t.includes(e)||t.splice(n,0,e)})),t=t.filter((t=>e.includes(t))),t}function C(){const e=s.booksterHooks.applyFilters(s.HOOK_NAMES.agentApptList.apptColumnIds,["book_time","service","customer","status","payment","total"]);let t=w().columnsForAgent.order;return e.forEach(((e,n)=>{t.includes(e)||t.splice(n,0,e)})),t=t.filter((t=>e.includes(t))),t}function k(e,t,n){if(t===n||t<0||n<0||t>=e.length||n>=e.length)return e;const r=e.slice();return r.splice(n,0,r.splice(t,1)[0]),r}function A(e){return(t,n)=>({appointments:{form:{presetValues:void 0},ui:e},initAppointmentForm:e=>{t((t=>{t.appointments.form.presetValues=e}))},resetAppointmentForm:()=>{t((e=>{e.appointments.form.presetValues=void 0}))},showAppointmentColumn:e=>{const r=n().appointments.ui.hidden.indexOf(e);-1!==r&&t((e=>{e.appointments.ui.hidden.splice(r,1)}))},hideAppointmentColumn:e=>{-1===n().appointments.ui.hidden.indexOf(e)&&t((t=>{t.appointments.ui.hidden.push(e)}))},moveAppointmentColumnUp:e=>{const r=n().appointments.ui.order,a=r.indexOf(e);-1!==a&&t((e=>{e.appointments.ui.order=k(r,a,a-1)}))},moveAppointmentColumnDown:e=>{const r=n().appointments.ui.order,a=r.indexOf(e);-1!==a&&t((e=>{e.appointments.ui.order=k(r,a,a+1)}))},persistAppointmentColsForManager:()=>{h({columnsForManager:n().appointments.ui})},persistAppointmentColsForAgent:()=>{h({columnsForAgent:n().appointments.ui})}})}function _(e){return(t,n)=>({calendar:{view:e},calendarRefresh(e){t((t=>{t.calendar.view.type=e.view.type,t.calendar.view.title=e.view.title,t.calendar.view.activeStart=e.view.activeStart,t.calendar.view.activeEnd=e.view.activeEnd}))},calendarNext(e){e.next(),n().calendarRefresh(e)},calendarPrev(e){e.prev(),n().calendarRefresh(e)},calendarToday(e){e.today(),n().calendarRefresh(e)},calendarChangeView(e,t){e.batchRendering((()=>{e.changeView(t),e.setOption("editable","resourceTimelineDay"===t||"timeGridWeek"===t)})),n().calendarRefresh(e)}})}function S({children:n}){return e.createElement(t.ConfigProvider,{...l},e.createElement(t.StyleProvider,{hashPriority:"high"},e.createElement(r.TooltipProvider,{delayDuration:150},e.createElement(i.QueryClientProvider,{client:i.queryClient},n))))}i.queryClient.setDefaultOptions({queries:{retry:0,staleTime:9e5,onError:async e=>{r.toast.error(await i.getErrorMsg(e))}},mutations:{}});export{S as B,u as C,E as H,c as a,p as b,h as c,C as d,_ as e,m as f,w as g,y as h,A as i,b as u};
