var e,t,a;import{c as n,g as o,b as r,L as s,r as l,R as i,_ as m,a as c,d as b,u as d,f as p}from"./prefetch.helper-04349684.js";import{a as w,P as u}from"./UIComponents-7ff4460b.js";import{H as g,B as _}from"./useCacheCustomers-102bfcf8.js";import{p as E,i as f,a as v,D as h}from"./color.helper-9b8c6bb8.js";import{g as y,c as k}from"./BEConfigProvider-705eafe2.js";import{u as x}from"./useAddonMetadata-521c8d51.js";import"./createBookTimeInput.helper-ed47ae63.js";import"./appointment.helper-07645f99.js";const N={general_options:{body_background:"#FFFFFF",mail_background:"#F3F4F5",mail_footer:"{site_link} - Powered by {Bookster}",primary_color:"#2563EB",sender_email:"admin@gmail.com",sender_name:"Bookster",text_color:"#1F2937"},manager_email:{cc_emails:[],recipient:"admin@gmail.com"},notifications:{approved_appt_agent:{enabled:!0,heading:"Approved appointment: #{appt_number}",message:"Hi <strong>{agent_name}</strong>,\nCongratulation on the {service_name} appointment with {customer_name}!",subject:"[{site_title}]: Approved appointment #{appt_number}"},approved_appt_customer:{enabled:!0,heading:"Appointment confirmed #{appt_number}",message:"Hi <strong>{customer_name}</strong>,\nYour {service_name} appointment has been confirmed.",subject:"Your {site_title} appointment has been confirmed!"},canceled_appt_agent:{enabled:!1,heading:"Canceled appointment: #{appt_number}",message:"Hi <strong>{agent_name}</strong>,\nYour {service_name} appointment with {customer_name} has been canceled.",subject:"[{site_title}]: Canceled appointment #{appt_number}"},manual_resend_appt_agent:{heading:"Details for appointment #{appt_number}",message:"Hi <strong>{agent_name}</strong>,\nYou have a {service_name} appointment with {customer_name}.",subject:"[{site_title}]: Details for appointment #{appt_number}"},manual_resend_appt_customer:{heading:"Details for appointment #{appt_number}",message:"Hi <strong>{customer_name}</strong>,\nYou have a {service_name} appointment with {agent_name}.",subject:"Details for appointment #{appt_number} on {site_title}"},new_booking_manager:{enabled:!0,heading:"New Booking: #{appt_number}",message:"Hi <strong>Manager</strong>,\nYou have received the following booking from {customer_name}.",subject:"[{site_title}]: New booking #{appt_number}"},new_pending_booking_customer:{enabled:!0,heading:"Booking received #{appt_number}",message:"Hi <strong>{customer_name}</strong>,\nThank you for your booking. We are working on your schedule.",subject:"Your {site_title} booking has been received!"}}};function S(e,t){return n.api.patch("settings/email-notice-options",{json:{notice_event:e,notice_options:t}})}function C(e,t){return n.api.patch("settings/email-notice-options",{json:{notice_event:e,notice_options:t}})}function F(e,t){return n.api.patch("settings/email-notice-options/enabled",{json:{notice_event:e,enabled:t}})}const T={subject:"{site_title} - Preview Email",heading:"This is a preview email",message:"Hi <strong>Administrator</strong>,<br/>Please preview if the email options are working correctly."};function M(e){return{sender_name:e.sender_name,sender_email:e.sender_email,mail_footer:e.mail_footer,primary_color:E(e.primary_color),text_color:E(e.text_color),mail_background:E(e.mail_background),body_background:E(e.body_background)}}const I=window.booksterMeta.wpPath.managerAppUrl,A=o.dayjs().add(7,"day").hour(10).minute(0).second(0).millisecond(0),j=A.add(30,"minute"),B={site_title:window.booksterMeta.meta.siteTitle,site_link:`<a href="${window.booksterMeta.wpPath.siteUrl}" target="_blank" style="color: var(--btrm-p);font-size: inherit;font-weight: inherit; text-decoration: underline;">${window.booksterMeta.meta.siteTitle}</a>`,appt_number:"12345",appt_url:`${I}#/appointments?code=12345`,appt_datetime:`${A.format(n.DATETIME_TEMPLATE)} - ${j.format(n.TIME_TEMPLATE)}`,service_name:r.sprintf(r.__("Best %(service)s Ever","bookster"),s),customer_name:"Grace Stone",agent_name:"Emma Harper",book_status:"approved",payment_status:"complete",Bookster:'<a href="https://wpbookster.com/" target="_blank" style="color: var(--btrm-p);font-size: inherit;font-weight: inherit; text-decoration: underline;">Bookster</a>'};function D(e){let t=e;return Object.entries(B).forEach((([e,a])=>{t=t.replace(new RegExp(`{${e}}`,"g"),a)})),t=t.replace(/\n/g,"<br />"),t}const P=l.createContext(void 0);function O({placeholder:e,preview:t}){const{copied:a,onCopy:n}=function(){const e=l.useContext(P);if(!e)throw new Error("useCopiedContext must be used within a CopiedContext.Provider");return e}();return i.createElement("div",{className:m.cx("bw-relative -bw-mx-3 bw-flex bw-cursor-pointer bw-flex-nowrap bw-items-center bw-rounded-theme bw-px-3 bw-py-2 bw-text-sm bw-font-normal","bw-overflow-hidden hover:bw-bg-gray-20 [&_.copy-icon]:hover:bw-opacity-100",a===e&&"[&_.copy-icon]:bw-opacity-0 [&_.copy-icon]:hover:bw-opacity-0"),onClick:()=>n(e)},i.createElement("div",{"btr-placeholder-label":"",className:"bw-flex-[2] bw-text-primary"},e),i.createElement("div",{"btr-placeholder-description":"",className:"bw-flex-[3] bw-text-gray-900"},t),i.createElement("div",{"btr-placeholder-copy":"",className:m.cx("bw-absolute bw-right-[-46px] bw-flex bw-items-center bw-duration-300",a===e&&"bw-right-3")},i.createElement(c.Copy,{className:"copy-icon bw-stroke-gray-500 bw-opacity-50"}),i.createElement("span",{className:m.cx("bw-flex bw-items-center bw-text-success bw-opacity-0",a===e&&"bw-opacity-100")},i.createElement(c.Check,{className:"bw-mr-1 bw-h-3 bw-w-3"}),r.__("copied","bookster"))))}function V({className:e,mode:t="appointment",...a}){const[n,o]=l.useState("");return i.createElement("div",{className:m.cx("",e),...a},i.createElement(P.Provider,{value:{copied:n,onCopy:function(e){navigator.clipboard.writeText(e),n!==e&&(o(e),setTimeout((()=>{o((t=>t===e?"":t))}),5e3))}}},i.createElement($,null,r.__("Site","bookster")),i.createElement(H,null,i.createElement(O,{placeholder:"{site_title}",preview:"Wordpress Site Title"}),i.createElement(O,{placeholder:"{site_link}",preview:"Wordpress Site Address (URL)"})),i.createElement(m.Separator,{className:"bw-mb-5 bw-mt-3"}),i.createElement($,null,r.__("Appointment","bookster")),i.createElement(H,{className:m.clsx("appointment"!==t&&"bw-pointer-events-none [&_[btr-placeholder-copy]]:bw-opacity-0 [&_[btr-placeholder-label]]:bw-text-gray-500 ")},i.createElement(O,{placeholder:"{appt_number}",preview:r.__("Appointment Number","bookster")}),i.createElement(O,{placeholder:"{customer_name}",preview:r.sprintf(r.__("%(customer)s Full Name","bookster"),s)}),i.createElement(O,{placeholder:"{agent_name}",preview:r.sprintf(r.__("%(agent)s Full Name","bookster"),s)}),i.createElement(O,{placeholder:"{service_name}",preview:r.sprintf(r.__("%(service)s Name","bookster"),s)}),i.createElement(O,{placeholder:"{appt_datetime}",preview:r.__("Appointment Date & Time","bookster")}),i.createElement(O,{placeholder:"{book_status}",preview:r.__("Appointment Book Status","bookster")}),i.createElement(O,{placeholder:"{payment_status}",preview:r.__("Appointment Payment Status","bookster")}),i.createElement(O,{placeholder:"{appt_url}",preview:r.__("Appointment URL","bookster")})),i.createElement(m.Separator,{className:"bw-mb-5 bw-mt-3"}),i.createElement($,null,r.__("Bookster","bookster")),i.createElement(H,null,i.createElement(O,{placeholder:"{Bookster}",preview:r.__("Bookster Credit Link","bookster")}))))}const $=m.styled.p("bw-text-xs bw-text-gray-900 bw-font-medium bw-uppercase"),H=m.stylex.div("bw-flex bw-flex-col bw-gap-0.5 bw-py-1 bw-mb-3");function z({footer:e}){return i.createElement("table",{style:{border:0,borderSpacing:0,width:"100%"}},i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",{style:{padding:"8px 0",verticalAlign:"middle",textAlign:"center"}},i.createElement("p",{style:{margin:0,fontSize:"inherit",color:"var(--btrm-bodyfg)"},dangerouslySetInnerHTML:{__html:e}})))))}function L(){return i.createElement(i.Fragment,null,i.createElement("p",{style:{color:"var(--btrm-p)",fontSize:22,fontWeight:600,textAlign:"center",margin:"0 0 16px"}},"AppointmentÂ ",i.createElement("a",{style:{color:"var(--btrm-p)",fontSize:"inherit",fontWeight:"inherit",textDecoration:"underline"},href:B.appt_url,target:"_blank"},"#",B.appt_number)),i.createElement("p",{style:{fontSize:18,fontWeight:500,color:"inherit",margin:0}},B.service_name),i.createElement("p",{style:{color:"var(--btrm-p)",fontSize:"inherit",margin:0}},B.appt_datetime),i.createElement("div",null,i.createElement("table",{style:{border:0,borderSpacing:0,width:"100%",margin:"16px 0"}},i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",{style:{width:"50%",borderRight:"1px dashed var(--btrm-bodyfg60)"}},i.createElement("p",{style:{fontSize:14,fontWeight:500,color:"var(--btrm-bodyfg60)",margin:0}},r.sprintf(r.__("%(customer)s:","bookster"),s)),i.createElement("p",{style:{fontSize:18,fontWeight:500,margin:0}},B.customer_name)),i.createElement("td",null,i.createElement("p",{style:{fontSize:14,fontWeight:500,color:"var(--btrm-bodyfg60)",margin:0,textAlign:"right"}},s.agent,":"),i.createElement("p",{style:{fontSize:18,fontWeight:500,margin:0,textAlign:"right"}},B.agent_name)))))),i.createElement("div",null,i.createElement("table",{style:{border:0,borderSpacing:0,width:"100%"}},i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",{colSpan:2,style:{fontSize:14,fontWeight:500,color:"var(--btrm-bodyfg60)",textAlign:"center"}},r.__("Booking Details","bookster"))),i.createElement("tr",null,i.createElement("td",{colSpan:2,style:{borderTop:"1px dashed var(--btrm-bodyfg40)",padding:"16px 0 0 0"}})),i.createElement("tr",null,i.createElement("td",{style:{margin:0}},B.service_name," ( ",n.formatPrice(199),"x1 )"),i.createElement("td",{style:{margin:0,textAlign:"right"}},n.formatPrice(199))),i.createElement("tr",null,i.createElement("td",{style:{margin:0}},"Discount"),i.createElement("td",{style:{margin:0,textAlign:"right"}},n.formatPrice(-20))),i.createElement("tr",null,i.createElement("td",{style:{fontSize:17,fontWeight:600,margin:0,padding:"8px 0"}},"Subtotal"),i.createElement("td",{style:{fontSize:17,fontWeight:600,margin:0,padding:"8px 0",textAlign:"right"}},n.formatPrice(179))),i.createElement("tr",null,i.createElement("td",{style:{margin:0}},"VAT"),i.createElement("td",{style:{margin:0,textAlign:"right"}},n.formatPrice(10))),i.createElement("tr",null,i.createElement("td",{colSpan:2,style:{borderBottom:"1px dashed var(--btrm-bodyfg40)",padding:"16px 0 0 0"}})),i.createElement("tr",null,i.createElement("td",{style:{fontSize:20,fontWeight:700,margin:0,padding:"16px 0 0 0"}},"Total"),i.createElement("td",{style:{fontSize:20,fontWeight:700,margin:0,padding:"16px 0 0 0",textAlign:"right"}},n.formatPrice(189)))))))}function W({message:e}){return i.createElement("table",{style:{border:0,borderSpacing:0,borderRadius:"0 0 8px 8px",width:"100%",backgroundColor:"var(--btrm-bodybg)",color:"var(--btrm-bodyfg)"}},i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",{style:{padding:"24px 24px",display:"block",fontSize:16,textAlign:"left"}},i.createElement("div",null,i.createElement("p",{style:{color:"inherit",fontSize:"inherit",margin:"0 0 16px"},dangerouslySetInnerHTML:{__html:e}}),i.createElement(L,null))))))}function q({heading:e}){return i.createElement("table",{style:{border:0,borderSpacing:0,borderRadius:"8px 8px 0 0",width:"100%",backgroundColor:"var(--btrm-p)"}},i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",{style:{padding:"16px 24px",display:"block"}},i.createElement("h1",{style:{color:"var(--btrm-pfg)",backgroundColor:"inherit",fontSize:24,fontWeight:500,margin:0,textAlign:"left"},dangerouslySetInnerHTML:{__html:e}})))))}function R({heading:e,message:t}){return i.createElement("table",{style:{border:0,borderSpacing:0,width:"100%"}},i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",{style:{verticalAlign:"top",padding:0}},i.createElement(q,{heading:e}))),i.createElement("tr",null,i.createElement("td",{style:{verticalAlign:"top",padding:0}},i.createElement(W,{message:t})))))}const Y=l.memo((function({className:e,heading:t,message:a,footer:n,children:o,...r}){return i.createElement(m.ScrollArea,{className:m.clsx("bookster-email-preview bw-rounded",e),...r},i.createElement(m.Scrollbar,{orientation:"horizontal"}),i.createElement("div",{style:{backgroundColor:"var(--btrm-mailbg)",padding:0,margin:0,offset:0}},i.createElement("table",{style:{width:"100%"}},i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",{style:{minWidth:20}}),i.createElement("td",{style:{width:576}},i.createElement("div",{style:{margin:"0 auto",padding:"20px 0 0 0",width:"100%",maxWidth:576,fontSize:16,WebkitTextSizeAdjust:"none"}},i.createElement("table",{style:{border:0,borderSpacing:0,height:"100%",width:"100%"}},i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",{style:{verticalAlign:"top",padding:0}},i.createElement(R,{heading:t,message:a}))),i.createElement("tr",null,i.createElement("td",{style:{verticalAlign:"top",padding:0}},i.createElement(z,{footer:n}))))))),i.createElement("td",{style:{minWidth:20}})))),o))}));function K(e){const t=b.Form.useFormInstance(),a=b.Form.useWatch([],t),n=window.booksterManagerData.emailSettings.general_options,o=l.useMemo((()=>{const e=E((null==a?void 0:a.primary_color)||n.primary_color||"#2563EB"),t=f(e)?"#1F2937":"#FFFFFF",o=E((null==a?void 0:a.text_color)||n.text_color||"#1F2937"),r=f(o),s=v(o,r?-40:40),l=v(o,r?-60:60);return{"--btrm-p":e,"--btrm-pfg":t,"--btrm-bodybg":E((null==a?void 0:a.body_background)||n.body_background||"#FFFFFF"),"--btrm-bodyfg":o,"--btrm-bodyfg60":s,"--btrm-bodyfg40":l,"--btrm-mailbg":E((null==a?void 0:a.mail_background)||n.mail_background||"#F9FAFB")}}),[a,n]),r=l.useMemo((()=>D((null==a?void 0:a.mail_footer)||n.mail_footer||"")),[a,n]);return i.createElement(Y,{style:o,heading:T.heading,message:T.message,footer:r,...e})}function U({onSendPreviewEmail:e}){const[t,a]=l.useState((()=>y().testEmail));async function n(){await e(t),k({testEmail:t})}return i.createElement(m.Tabs,{defaultValue:"preview"},i.createElement(m.TabsList,{className:"bw-mb-5"},i.createElement(m.LineTabsTrigger,{value:"preview"},r.__("Preview","bookster")),i.createElement(m.LineTabsTrigger,{value:"placeholders"},r.__("Placeholders","bookster"))),i.createElement(m.TabsContent,{value:"preview"},i.createElement("div",{className:"bw-flex bw-flex-col bw-items-stretch bw-gap-6"},i.createElement(K,{className:"bw-min-w-[22rem] bw-flex-none"},i.createElement("div",{className:"bw-mx-5 bw-mt-1 bw-flex bw-justify-end bw-border-t bw-border-dashed bw-border-gray-500/20 bw-py-5"},i.createElement(m.Input,{type:"email",className:"bw-h-11 bw-w-full",withStatus:!1,value:t,onChange:e=>a(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(n(),e.preventDefault())}}),i.createElement(m.Button,{size:"large",variant:"soft",className:"bw-absolute bw-mr-1 bw-mt-1",onClick:()=>n()},r.__("Send Test Email","bookster")))))),i.createElement(m.TabsContent,{value:"placeholders"},i.createElement(V,{mode:"site"})))}function G(){const[e]=b.Form.useForm(),t=d((e=>e.wpUserInfo.email)),[a,o]=l.useState(!1),s=window.booksterManagerData.emailSettings.general_options;return i.createElement(b.Form,{form:e,layout:"vertical",onFinish:async function(e){try{o(!0);const a=M(e);await(t={general_options:a},n.api.patch("settings/email-general-options",{json:t})),m.toast.success(r.__("Email Options has been Saved Successfully!","bookster")),window.booksterManagerData.emailSettings.general_options=a}catch(a){const e=await n.getErrorMsg(a);m.toast.error(e)}finally{o(!1)}var t},initialValues:s},i.createElement("div",{className:"bw-relative bw-me-auto bw-grid bw-grid-cols-1 bw-gap-5 xl:bw-grid-cols-2 xl:bw-gap-4 2xl:bw-grid-cols-[5fr,4fr]"},i.createElement(m.LoadingOverlay,{loading:a}),i.createElement("div",{className:"bw-rounded-e-md bw-bg-white bw-p-5 xl:bw-p-4"},i.createElement("h4",{className:"bw-text-lg bw-font-medium bw-text-gray-900"},r.__("Email Options","bookster")),i.createElement("p",{className:"bw-text-sm bw-text-gray-500"},r.__("Customize your email appearance and test your server with 'Send Test Email'","bookster")),i.createElement("div",{className:"bw-mb-6 bw-mt-7"},i.createElement(g,null,i.createElement(_,null)," ",r.__("Content","bookster")),i.createElement("div",{className:"bw-mb-7"},i.createElement(m.FormItem,{label:r.__("Sender Name","bookster"),name:"sender_name",rules:[{required:!0,max:100}]},i.createElement(m.Input,{placeholder:J})),i.createElement(b.Form.Item,{label:r.__("Sender Email","bookster"),name:"sender_email",rules:[{required:!0},{type:"email"}]},i.createElement(m.Input,{type:"email",placeholder:t})),i.createElement(b.Form.Item,{label:r.__("Mail Footer","bookster"),name:"mail_footer",rules:[{required:!0},{max:500}]},i.createElement(m.Textarea,{placeholder:"{site_link} - Powered by {Bookster}"}))),i.createElement(g,null,i.createElement(_,null)," ",r.__("Style","bookster")),i.createElement("div",{className:"bw-mb-7 bw-grid bw-grid-cols-1 bw-gap-x-5 sm:bw-grid-cols-2"},i.createElement(b.Form.Item,{label:r.__("Primary Color","bookster"),name:"primary_color",className:"bw-mb-4 "},i.createElement(m.ColorPicker,{presets:h})),i.createElement(b.Form.Item,{label:r.__("Text Color","bookster"),name:"text_color",className:"bw-mb-4"},i.createElement(m.ColorPicker,{presets:h})),i.createElement(b.Form.Item,{label:r.__("Mail Background","bookster"),name:"mail_background",className:"bw-mb-4"},i.createElement(m.ColorPicker,{presets:h})),i.createElement(b.Form.Item,{label:r.__("Body Background","bookster"),name:"body_background",className:"bw-mb-4"},i.createElement(m.ColorPicker,{presets:h})))),i.createElement("div",{className:"bw-flex bw-gap-2"},i.createElement(m.Button,{size:"large",className:"bw-px-5 bw-py-2",variant:"trivial",onClick:async function(){e.setFieldsValue(N.general_options)}},r.__("Reset To Default","bookster")),i.createElement(m.Button,{size:"large",className:"bw-px-5 bw-py-2",type:"submit"},r.__("Save Changes","bookster")))),i.createElement("div",{className:"bw-hidden bw-rounded-md bw-bg-white bw-px-5 bw-pb-5 bw-pt-2 xl:bw-block xl:bw-px-4"},i.createElement(U,{onSendPreviewEmail:async function(t){try{o(!0);const l=e.getFieldsValue();await(a=t,s=M(l),n.api.patch("settings/send-preview-email",{json:{template_options:T,recipient:a,general_options:s}})),m.toast.success(r.__("Test Email has been Sent Successfully!","bookster"))}catch(l){const e=await n.getErrorMsg(l);m.toast.error(e)}finally{o(!1)}var a,s}}))))}const J=window.booksterMeta.meta.siteTitle,Q=l.createContext(void 0);function X(){const e=l.useContext(Q);if(!e)throw new Error("useEmailNotificationsContext must be used within a EmailNotificationsContextProvider");return e}function Z(e){const{options:t}=X(),a=null==t?void 0:t.heading,n=null==t?void 0:t.message,o=window.booksterManagerData.emailSettings.general_options,r=l.useMemo((()=>{const e=E(o.primary_color||"#2563EB"),t=f(e)?"#1F2937":"#FFFFFF",a=E(o.text_color||"#1F2937"),n=f(a),r=v(a,n?-40:40),s=v(a,n?-60:60);return{"--btrm-p":e,"--btrm-pfg":t,"--btrm-bodybg":E(o.body_background||"#FFFFFF"),"--btrm-bodyfg":a,"--btrm-bodyfg60":r,"--btrm-bodyfg40":s,"--btrm-mailbg":E(o.mail_background||"#F9FAFB")}}),[o]),s=l.useMemo((()=>a?D(a):T.heading),[a,o]),m=l.useMemo((()=>n?D(n):T.message),[n,o]),c=l.useMemo((()=>D(o.mail_footer)),[o]);return i.createElement(Y,{style:r,heading:s,message:m,footer:c,...e})}function ee(){const[e,t]=l.useState((()=>y().testEmail)),[a,o]=l.useState(!1),{eventName:s,options:c}=X();async function b(){try{c&&(o(!0),s?await(t=e,a=c,n.api.patch("settings/send-preview-email",{json:{recipient:t,template_options:a}})):m.toast.error(r.__("Event name is not defined","bookster")),m.toast.success(r.__("Preview Email has been Sent Successfully!","bookster")))}catch(l){const e=await n.getErrorMsg(l);m.toast.error(e)}finally{o(!1)}var t,a;k({testEmail:e})}return i.createElement(m.Tabs,{defaultValue:"preview"},i.createElement(m.TabsList,{className:"bw-mb-5"},i.createElement(m.LineTabsTrigger,{value:"preview"},r.__("Preview","bookster")),i.createElement(m.LineTabsTrigger,{value:"placeholders"},r.__("Placeholders","bookster"))),i.createElement(m.TabsContent,{value:"preview"},i.createElement("div",{className:"bw-flex bw-flex-col bw-items-stretch bw-gap-6"},i.createElement(m.LoadingOverlay,{loading:a}),i.createElement(Z,{className:"bw-min-w-[22rem] bw-flex-none"},i.createElement("div",{className:"bw-mx-5 bw-mt-1 bw-flex bw-justify-end bw-border-t bw-border-dashed bw-border-gray-500/20 bw-py-5"},i.createElement(m.Input,{type:"email",className:"bw-h-11 bw-w-full",withStatus:!1,value:e,onChange:e=>t(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(b(),e.preventDefault())}}),i.createElement(m.Button,{size:"large",variant:"soft",className:"bw-absolute bw-mr-1 bw-mt-1",onClick:()=>b()},r.__("Send Test Email","bookster")))))),i.createElement(m.TabsContent,{value:"placeholders"},i.createElement(V,{mode:"appointment"})))}function te(e){return i.createElement(m.Tooltip,{content:i.createElement(i.Fragment,null,r.__("Turn on to send this notification","bookster"),i.createElement("br",null),r.__("automatically in the background","bookster"))},i.createElement("div",{className:"bw-flex bw-items-center"},i.createElement(m.FormItem,{name:["notice_options","enabled"],valuePropName:"checked",trigger:"onCheckedChange",noStyle:!0},i.createElement(m.Switch,{...e}))))}function ae(){const[e]=b.Form.useForm(),[t,a]=l.useState(!1),{eventName:o,setOptions:c,setEventName:d}=X(),p={notice_options:window.booksterManagerData.emailSettings.notifications.approved_appt_agent};return i.createElement(b.Form,{layout:"vertical",form:e,onValuesChange:(e,t)=>{c(t.notice_options)},onFinish:async function(e){try{a(!0),await S("approved_appt_agent",e.notice_options),m.toast.success(r.__("Email Options has been Saved Successfully!","bookster")),window.booksterManagerData.emailSettings.notifications.approved_appt_agent=e.notice_options}catch(t){const e=await n.getErrorMsg(t);m.toast.error(e)}finally{a(!1)}},initialValues:p},i.createElement("div",{className:"bw-col-start-1 bw-row-start-2"},i.createElement(m.LoadingOverlay,{loading:t}),i.createElement(m.Collapsible,{className:m.cx("bw-group/card bw-mb-[10px] bw-mt-[10px] bw-scale-100 bw-overflow-hidden bw-rounded-[8px] bw-border bw-border-solid bw-transition-all bw-duration-300 bw-ease-in-out hover:bw-border-gray-900","data-[state=open]:bw-border-gray-900 data-[state=open]:hover:bw-scale-[1.002]"),open:"approved_appt_agent"===o,onOpenChange:t=>{t?t&&(d("approved_appt_agent"),c(e.getFieldsValue().notice_options)):d(void 0)}},i.createElement(m.CollapsibleTrigger,{asChild:!0},i.createElement("div",{className:"bw-flex bw-h-[50px] bw-cursor-pointer bw-flex-row bw-items-center bw-gap-5 bw-border-solid bw-border-gray-100 bw-pe-4"},i.createElement("h3",{className:"bw-me-auto bw-ms-5 bw-text-sm bw-font-medium bw-leading-none bw-text-gray-900"},r.__("Approved Appointment","bookster")),i.createElement("div",{className:"bw-flex bw-items-center bw-gap-3"},i.createElement("span",{className:"bw-text-xs bw-font-medium bw-uppercase bw-text-gray-500"},r.sprintf(r.__("to %(agent)s","bookster"),s)),i.createElement(m.Separator,{orientation:"vertical",className:"bw-h-3"}),i.createElement(te,{id:`${ne}_enabled`,onClick:e=>e.stopPropagation(),onCheckedChange:e=>async function([e,t]){try{a(!0),await F(e,t),m.toast.success(r.__("Notification Configuration has been Saved Successfully!","bookster")),window.booksterManagerData.emailSettings.notifications[e].enabled=t}catch(o){const e=await n.getErrorMsg(o);m.toast.error(e)}finally{a(!1)}}(["approved_appt_agent",e])})))),i.createElement(m.CollapsibleContent,{forceMountWithAnimation:!0,className:"bw-px-5"},i.createElement("div",{className:"bw-border-t bw-pb-5 bw-pt-4"},i.createElement("div",{className:"bw-mb-5"},i.createElement(b.Form.Item,{label:r.__("Subject","bookster"),name:["notice_options","subject"],className:"bw-mb-4",rules:[{required:!0,max:100}]},i.createElement(m.Input,{id:`${ne}_subject`})),i.createElement(b.Form.Item,{label:r.__("Heading","bookster"),name:["notice_options","heading"],className:"bw-mb-4",rules:[{required:!0,max:100}]},i.createElement(m.Input,{id:`${ne}_heading`})),i.createElement(b.Form.Item,{label:r.__("Message","bookster"),name:["notice_options","message"],className:"bw-mb-4",rules:[{required:!0,max:500}]},i.createElement(m.Textarea,{id:`${ne}_message`,rows:3}))),i.createElement(m.Separator,{className:"bw-mb-5"}),i.createElement("div",{className:"bw-flex bw-gap-5"},i.createElement(m.Button,{className:"bw-w-1/2",variant:"trivial",onClick:async function(){e.setFieldsValue({notice_options:N.notifications.approved_appt_agent}),c(N.notifications.approved_appt_agent)}},r.__("Reset To Default","bookster")),i.createElement(m.Button,{className:"bw-w-1/2",type:"submit"},r.__("Save Changes","bookster"))))))))}const ne="approved_appt_agent";function oe(){const[e]=b.Form.useForm(),[t,a]=l.useState(!1),{eventName:o,setOptions:c,setEventName:d}=X(),p={notice_options:window.booksterManagerData.emailSettings.notifications.approved_appt_customer};return i.createElement(b.Form,{layout:"vertical",form:e,onValuesChange:(e,t)=>{c(t.notice_options)},onFinish:async function(e){try{a(!0),await S("approved_appt_customer",e.notice_options),m.toast.success(r.__("Email Options has been Saved Successfully!","bookster")),window.booksterManagerData.emailSettings.notifications.approved_appt_customer=e.notice_options}catch(t){const e=await n.getErrorMsg(t);m.toast.error(e)}finally{a(!1)}},initialValues:p},i.createElement("div",{className:"bw-col-start-1 bw-row-start-2"},i.createElement(m.LoadingOverlay,{loading:t}),i.createElement(m.Collapsible,{className:m.cx("bw-group/card bw-mb-[10px] bw-mt-[10px] bw-scale-100 bw-overflow-hidden bw-rounded-[8px] bw-border bw-border-solid bw-transition-all bw-duration-300 bw-ease-in-out hover:bw-border-gray-900","data-[state=open]:bw-border-gray-900 data-[state=open]:hover:bw-scale-[1.002]"),open:"approved_appt_customer"===o,onOpenChange:t=>{t?t&&(d("approved_appt_customer"),c(e.getFieldsValue().notice_options)):d(void 0)}},i.createElement(m.CollapsibleTrigger,{asChild:!0},i.createElement("div",{className:"bw-flex bw-h-[50px] bw-cursor-pointer bw-flex-row bw-items-center bw-gap-5 bw-border-solid bw-border-gray-100 bw-pe-4"},i.createElement("h3",{className:"bw-me-auto bw-ms-5 bw-text-sm bw-font-medium bw-leading-none bw-text-gray-900"},r.__("Approved Appointment","bookster")),i.createElement("div",{className:"bw-flex bw-items-center bw-gap-3"},i.createElement("span",{className:"bw-text-xs bw-font-medium bw-uppercase bw-text-gray-500"},r.sprintf(r.__("to %(customer)s","bookster"),s)),i.createElement(m.Separator,{orientation:"vertical",className:"bw-h-3"}),i.createElement(te,{id:`${re}_enabled`,onClick:e=>e.stopPropagation(),onCheckedChange:e=>async function([e,t]){try{a(!0),await F(e,t),m.toast.success(r.__("Notification Configuration has been Saved Successfully!","bookster")),window.booksterManagerData.emailSettings.notifications[e].enabled=t}catch(o){const e=await n.getErrorMsg(o);m.toast.error(e)}finally{a(!1)}}(["approved_appt_customer",e])})))),i.createElement(m.CollapsibleContent,{forceMountWithAnimation:!0,className:"bw-px-5"},i.createElement("div",{className:"bw-border-t bw-pb-5 bw-pt-4"},i.createElement("div",{className:"bw-mb-5"},i.createElement(b.Form.Item,{label:r.__("Subject","bookster"),name:["notice_options","subject"],className:"bw-mb-4",rules:[{required:!0,max:100}]},i.createElement(m.Input,{id:`${re}_subject`})),i.createElement(b.Form.Item,{label:r.__("Heading","bookster"),name:["notice_options","heading"],className:"bw-mb-4",rules:[{required:!0,max:100}]},i.createElement(m.Input,{id:`${re}_heading`})),i.createElement(b.Form.Item,{label:r.__("Message","bookster"),name:["notice_options","message"],className:"bw-mb-4",rules:[{required:!0,max:500}]},i.createElement(m.Textarea,{id:`${re}_message`,rows:3}))),i.createElement(m.Separator,{className:"bw-mb-5"}),i.createElement("div",{className:"bw-flex bw-gap-5"},i.createElement(m.Button,{className:"bw-w-1/2",variant:"trivial",onClick:async function(){e.setFieldsValue({notice_options:N.notifications.approved_appt_customer}),c(N.notifications.approved_appt_customer)}},r.__("Reset To Default","bookster")),i.createElement(m.Button,{className:"bw-w-1/2",type:"submit"},r.__("Save Changes","bookster"))))))))}const re="approved_appt_customer";function se(){const[e]=b.Form.useForm(),[t,a]=l.useState(!1),{eventName:o,setOptions:c,setEventName:d}=X(),p={notice_options:window.booksterManagerData.emailSettings.notifications.canceled_appt_agent};return i.createElement(b.Form,{layout:"vertical",form:e,onValuesChange:(e,t)=>{c(t.notice_options)},onFinish:async function(e){try{a(!0),await S("canceled_appt_agent",e.notice_options),m.toast.success(r.__("Email Options has been Saved Successfully!","bookster")),window.booksterManagerData.emailSettings.notifications.canceled_appt_agent=e.notice_options}catch(t){const e=await n.getErrorMsg(t);m.toast.error(e)}finally{a(!1)}},initialValues:p},i.createElement("div",{className:"bw-col-start-1 bw-row-start-2"},i.createElement(m.LoadingOverlay,{loading:t}),i.createElement(m.Collapsible,{className:m.cx("bw-group/card bw-mb-[10px] bw-mt-[10px] bw-scale-100 bw-overflow-hidden bw-rounded-[8px] bw-border bw-border-solid bw-transition-all bw-duration-300 bw-ease-in-out hover:bw-border-gray-900","data-[state=open]:bw-border-gray-900 data-[state=open]:hover:bw-scale-[1.002]"),open:"canceled_appt_agent"===o,onOpenChange:t=>{t?t&&(d("canceled_appt_agent"),c(e.getFieldsValue().notice_options)):d(void 0)}},i.createElement(m.CollapsibleTrigger,{asChild:!0},i.createElement("div",{className:"bw-flex bw-h-[50px] bw-cursor-pointer bw-flex-row bw-items-center bw-gap-5 bw-border-solid bw-border-gray-100 bw-pe-4"},i.createElement("h3",{className:"bw-me-auto bw-ms-5 bw-text-sm bw-font-medium bw-leading-none bw-text-gray-900"},r.__("Canceled Appointment","bookster")),i.createElement("div",{className:"bw-flex bw-items-center bw-gap-3"},i.createElement("span",{className:"bw-text-xs bw-font-medium bw-uppercase bw-text-gray-500"},r.sprintf(r.__("to %(agent)s","bookster"),s)),i.createElement(m.Separator,{orientation:"vertical",className:"bw-h-3"}),i.createElement(te,{id:`${le}_enabled`,onClick:e=>e.stopPropagation(),onCheckedChange:e=>async function([e,t]){try{a(!0),await F(e,t),m.toast.success(r.__("Notification Configuration has been Saved Successfully!","bookster")),window.booksterManagerData.emailSettings.notifications[e].enabled=t}catch(o){const e=await n.getErrorMsg(o);m.toast.error(e)}finally{a(!1)}}(["canceled_appt_agent",e])})))),i.createElement(m.CollapsibleContent,{forceMountWithAnimation:!0,className:"bw-px-5"},i.createElement("div",{className:"bw-border-t bw-pb-5 bw-pt-4"},i.createElement("div",{className:"bw-mb-5"},i.createElement(b.Form.Item,{label:r.__("Subject","bookster"),name:["notice_options","subject"],className:"bw-mb-4",rules:[{required:!0,max:100}]},i.createElement(m.Input,{id:`${le}_subject`})),i.createElement(b.Form.Item,{label:r.__("Heading","bookster"),name:["notice_options","heading"],className:"bw-mb-4",rules:[{required:!0,max:100}]},i.createElement(m.Input,{id:`${le}_heading`})),i.createElement(b.Form.Item,{label:r.__("Message","bookster"),name:["notice_options","message"],className:"bw-mb-4",rules:[{required:!0,max:500}]},i.createElement(m.Textarea,{id:`${le}_message`,rows:3}))),i.createElement(m.Separator,{className:"bw-mb-5"}),i.createElement("div",{className:"bw-flex bw-gap-5"},i.createElement(m.Button,{className:"bw-w-1/2",variant:"trivial",onClick:async function(){e.setFieldsValue({notice_options:N.notifications.canceled_appt_agent}),c(N.notifications.canceled_appt_agent)}},r.__("Reset To Default","bookster")),i.createElement(m.Button,{className:"bw-w-1/2",type:"submit"},r.__("Save Changes","bookster"))))))))}const le="canceled_appt_agent";function ie(e){}function me(){const[e]=b.Form.useForm(),[t,a]=l.useState(!1),{eventName:o,setOptions:s,setEventName:c}=X(),d={notice_options:window.booksterManagerData.emailSettings.notifications.new_booking_manager,manager_email:window.booksterManagerData.emailSettings.manager_email};return i.createElement(b.Form,{layout:"vertical",form:e,onValuesChange:(e,t)=>{s(t.notice_options)},onFinish:async function(e){try{a(!0),await(t=e.notice_options,o=e.manager_email,n.api.patch("settings/email-notice-options",{json:{notice_event:"new_booking_manager",notice_options:t,manager_email:o}})),m.toast.success(r.__("Email Options has been Saved Successfully!","bookster")),window.booksterManagerData.emailSettings.manager_email=e.manager_email,window.booksterManagerData.emailSettings.notifications.new_booking_manager=e.notice_options}catch(s){const e=await n.getErrorMsg(s);m.toast.error(e)}finally{a(!1)}var t,o},initialValues:d},i.createElement("div",{className:"bw-col-start-1 bw-row-start-2"},i.createElement(m.LoadingOverlay,{loading:t}),i.createElement(m.Collapsible,{className:m.cx("bw-group/card bw-mb-[10px] bw-mt-4 bw-scale-100 bw-overflow-hidden bw-rounded-[8px] bw-border bw-border-solid bw-transition-all bw-duration-300 bw-ease-in-out hover:bw-border-gray-900","data-[state=open]:bw-border-gray-900 data-[state=open]:hover:bw-scale-[1.002]"),open:"new_booking_manager"===o,onOpenChange:t=>{t?t&&(c("new_booking_manager"),s(e.getFieldsValue().notice_options)):c(void 0)}},i.createElement(m.CollapsibleTrigger,{asChild:!0},i.createElement("div",{className:"bw-flex bw-h-[50px] bw-cursor-pointer bw-flex-row bw-items-center bw-gap-5 bw-border-solid bw-border-gray-100 bw-pe-4"},i.createElement("h3",{className:"bw-me-auto bw-ms-5 bw-text-sm bw-font-medium bw-leading-none bw-text-gray-900"},r.__("New Booking","bookster")),i.createElement("div",{className:"bw-flex bw-items-center bw-gap-3"},i.createElement("span",{className:"bw-text-xs bw-font-medium bw-uppercase bw-text-gray-500"},r.__("to Manager","bookster")),i.createElement(m.Separator,{orientation:"vertical",className:"bw-h-3"}),i.createElement(te,{id:`${ce}_enabled`,onClick:e=>e.stopPropagation(),onCheckedChange:e=>async function([e,t]){try{a(!0),await F(e,t),m.toast.success(r.__("Notification Configuration has been Saved Successfully!","bookster")),window.booksterManagerData.emailSettings.notifications[e].enabled=t}catch(o){const e=await n.getErrorMsg(o);m.toast.error(e)}finally{a(!1)}}(["new_booking_manager",e])})))),i.createElement(m.CollapsibleContent,{forceMountWithAnimation:!0,className:"bw-px-5"},i.createElement("div",{className:"bw-border-t bw-pb-5 bw-pt-4"},i.createElement("div",{className:"bw-mb-5"},i.createElement(b.Form.Item,{label:r.__("Subject","bookster"),name:["notice_options","subject"],className:"bw-mb-4",rules:[{required:!0,max:100}]},i.createElement(m.Input,{id:`${ce}_subject`})),i.createElement(b.Form.Item,{label:r.__("Heading","bookster"),name:["notice_options","heading"],className:"bw-mb-4",rules:[{required:!0,max:100}]},i.createElement(m.Input,{id:`${ce}_heading`})),i.createElement(b.Form.Item,{label:r.__("Message","bookster"),name:["notice_options","message"],className:"bw-mb-4",rules:[{required:!0,max:500}]},i.createElement(m.Textarea,{id:`${ce}_message`,rows:3})),i.createElement(b.Form.Item,{label:r.__("Recipient","bookster"),name:["manager_email","recipient"],className:"bw-mb-4",rules:[{required:!0,type:"email"}]},i.createElement(m.Input,{id:`${ce}_recipient`})),i.createElement(b.Form.Item,{hidden:!0,name:["manager_email","cc_emails"]},i.createElement(ie,null))),i.createElement(m.Separator,{className:"bw-mb-5"}),i.createElement("div",{className:"bw-flex bw-gap-5"},i.createElement(m.Button,{className:"bw-w-1/2",variant:"trivial",onClick:async function(){e.setFieldsValue({notice_options:N.notifications.new_booking_manager,manager_email:N.manager_email}),s(N.notifications.new_booking_manager)}},r.__("Reset To Default","bookster")),i.createElement(m.Button,{className:"bw-w-1/2",type:"submit"},r.__("Save Changes","bookster"))))))))}const ce="new_booking_manager";function be(){const[e]=b.Form.useForm(),[t,a]=l.useState(!1),{eventName:o,setOptions:c,setEventName:d}=X(),p={notice_options:window.booksterManagerData.emailSettings.notifications.new_pending_booking_customer};return i.createElement(b.Form,{layout:"vertical",form:e,onValuesChange:(e,t)=>{c(t.notice_options)},onFinish:async function(e){try{a(!0),await S("new_pending_booking_customer",e.notice_options),m.toast.success(r.__("Email Options has been Saved Successfully!","bookster")),window.booksterManagerData.emailSettings.notifications.new_pending_booking_customer=e.notice_options}catch(t){const e=await n.getErrorMsg(t);m.toast.error(e)}finally{a(!1)}},initialValues:p},i.createElement("div",{className:"bw-col-start-1 bw-row-start-2"},i.createElement(m.LoadingOverlay,{loading:t}),i.createElement(m.Collapsible,{className:m.cx("bw-group/card bw-mb-[10px] bw-mt-[10px] bw-scale-100 bw-overflow-hidden bw-rounded-[8px] bw-border bw-border-solid bw-transition-all bw-duration-300 bw-ease-in-out hover:bw-border-gray-900","data-[state=open]:bw-border-gray-900 data-[state=open]:hover:bw-scale-[1.002]"),open:"new_pending_booking_customer"===o,onOpenChange:t=>{t?t&&(d("new_pending_booking_customer"),c(e.getFieldsValue().notice_options)):d(void 0)}},i.createElement(m.CollapsibleTrigger,{asChild:!0},i.createElement("div",{className:"bw-flex bw-h-[50px] bw-cursor-pointer bw-flex-row bw-items-center bw-gap-5 bw-border-solid bw-border-gray-100 bw-pe-4"},i.createElement("h3",{className:"bw-me-auto bw-ms-5 bw-text-sm bw-font-medium bw-leading-none bw-text-gray-900"},r.__("New Pending Booking","bookster")),i.createElement("div",{className:"bw-flex bw-items-center bw-gap-3"},i.createElement("span",{className:"bw-text-xs bw-font-medium bw-uppercase bw-text-gray-500"},r.sprintf(r.__("TO %(customer)s","bookster"),s)),i.createElement(m.Separator,{orientation:"vertical",className:"bw-h-3"}),i.createElement(te,{id:`${de}_enabled`,onClick:e=>e.stopPropagation(),onCheckedChange:e=>async function([e,t]){try{a(!0),await F(e,t),m.toast.success(r.__("Notification Configuration has been Saved Successfully!","bookster")),window.booksterManagerData.emailSettings.notifications[e].enabled=t}catch(o){const e=await n.getErrorMsg(o);m.toast.error(e)}finally{a(!1)}}(["new_pending_booking_customer",e])})))),i.createElement(m.CollapsibleContent,{forceMountWithAnimation:!0,className:"bw-px-5"},i.createElement("div",{className:"bw-border-t bw-pb-5 bw-pt-4"},i.createElement("div",{className:"bw-mb-5"},i.createElement(b.Form.Item,{label:r.__("Subject","bookster"),name:["notice_options","subject"],className:"bw-mb-4",rules:[{required:!0,max:100}]},i.createElement(m.Input,{id:`${de}_subject`})),i.createElement(b.Form.Item,{label:r.__("Heading","bookster"),name:["notice_options","heading"],className:"bw-mb-4",rules:[{required:!0,max:100}]},i.createElement(m.Input,{id:`${de}_heading`})),i.createElement(b.Form.Item,{label:r.__("Message","bookster"),name:["notice_options","message"],className:"bw-mb-4",rules:[{required:!0,max:500}]},i.createElement(m.Textarea,{id:`${de}_message`,rows:3}))),i.createElement(m.Separator,{className:"bw-mb-5"}),i.createElement("div",{className:"bw-flex bw-gap-5"},i.createElement(m.Button,{className:"bw-w-1/2",variant:"trivial",onClick:async function(){e.setFieldsValue({notice_options:N.notifications.new_pending_booking_customer}),c(N.notifications.new_pending_booking_customer)}},r.__("Reset To Default","bookster")),i.createElement(m.Button,{className:"bw-w-1/2",type:"submit"},r.__("Save Changes","bookster"))))))))}const de="new_pending_booking_customer";function pe(){const[e]=b.Form.useForm(),[t,a]=l.useState(!1),{eventName:o,setOptions:c,setEventName:d}=X(),p={notice_options:window.booksterManagerData.emailSettings.notifications.manual_resend_appt_agent};return i.createElement(b.Form,{layout:"vertical",form:e,onValuesChange:(e,t)=>{c(t.notice_options)},onFinish:async function(e){try{a(!0),await C("manual_resend_appt_agent",e.notice_options),m.toast.success(r.__("Email Options has been Saved Successfully!","bookster")),window.booksterManagerData.emailSettings.notifications.manual_resend_appt_agent=e.notice_options}catch(t){const e=await n.getErrorMsg(t);m.toast.error(e)}finally{a(!1)}},initialValues:p},i.createElement("div",{className:"bw-col-start-1 bw-row-start-2"},i.createElement(m.LoadingOverlay,{loading:t}),i.createElement(m.Collapsible,{className:m.cx("bw-group/card bw-mb-[10px] bw-mt-[10px] bw-scale-100 bw-overflow-hidden bw-rounded-[8px] bw-border bw-border-solid bw-transition-all bw-duration-300 bw-ease-in-out hover:bw-border-gray-900","data-[state=open]:bw-border-gray-900 data-[state=open]:hover:bw-scale-[1.002]"),open:"manual_resend_appt_agent"===o,onOpenChange:t=>{t?t&&(d("manual_resend_appt_agent"),c(e.getFieldsValue().notice_options)):d(void 0)}},i.createElement(m.CollapsibleTrigger,{asChild:!0},i.createElement("div",{className:"bw-flex bw-h-[50px] bw-cursor-pointer bw-flex-row bw-items-center bw-gap-5 bw-border-solid bw-border-gray-100 bw-pe-4"},i.createElement("h3",{className:"bw-me-auto bw-ms-5 bw-text-sm bw-font-medium bw-leading-none bw-text-gray-900"},r.__("Resend Appointment","bookster")),i.createElement("div",{className:"bw-flex bw-items-center bw-gap-3"},i.createElement("span",{className:"bw-text-xs bw-font-medium bw-uppercase bw-text-gray-500"},r.sprintf(r.__("to %(agent)s","bookster"),s)),i.createElement(m.Separator,{orientation:"vertical",className:"bw-h-3"}),i.createElement(m.Switch,{id:`${we}_enabled`,checked:!0,disabled:!0,className:"bw-pointer-events-none !bw-opacity-30"})))),i.createElement(m.CollapsibleContent,{forceMountWithAnimation:!0,className:"bw-px-5"},i.createElement("div",{className:"bw-border-t bw-pb-5 bw-pt-4"},i.createElement("div",{className:"bw-mb-5"},i.createElement(b.Form.Item,{label:r.__("Subject","bookster"),name:["notice_options","subject"],className:"bw-mb-4",rules:[{required:!0,max:100}]},i.createElement(m.Input,{id:`${we}_subject`})),i.createElement(b.Form.Item,{label:r.__("Heading","bookster"),name:["notice_options","heading"],className:"bw-mb-4",rules:[{required:!0,max:100}]},i.createElement(m.Input,{id:`${we}_heading`})),i.createElement(b.Form.Item,{label:r.__("Message","bookster"),name:["notice_options","message"],className:"bw-mb-4",rules:[{required:!0,max:500}]},i.createElement(m.Textarea,{id:`${we}_message`,rows:3}))),i.createElement(m.Separator,{className:"bw-mb-5"}),i.createElement("div",{className:"bw-flex bw-gap-5"},i.createElement(m.Button,{className:"bw-w-1/2",variant:"trivial",onClick:async function(){e.setFieldsValue({notice_options:N.notifications.manual_resend_appt_agent}),c(N.notifications.manual_resend_appt_agent)}},r.__("Reset To Default","bookster")),i.createElement(m.Button,{className:"bw-w-1/2",type:"submit"},r.__("Save Changes","bookster"))))))))}const we="manual_resend_appt_agent";function ue(){const[e]=b.Form.useForm(),[t,a]=l.useState(!1),{eventName:o,setOptions:c,setEventName:d}=X(),p={notice_options:window.booksterManagerData.emailSettings.notifications.manual_resend_appt_customer};return i.createElement(b.Form,{layout:"vertical",form:e,onValuesChange:(e,t)=>{c(t.notice_options)},onFinish:async function(e){try{a(!0),await C("manual_resend_appt_customer",e.notice_options),m.toast.success(r.__("Email Options has been Saved Successfully!","bookster")),window.booksterManagerData.emailSettings.notifications.manual_resend_appt_customer=e.notice_options}catch(t){const e=await n.getErrorMsg(t);m.toast.error(e)}finally{a(!1)}},initialValues:p},i.createElement("div",{className:"bw-col-start-1 bw-row-start-2"},i.createElement(m.LoadingOverlay,{loading:t}),i.createElement(m.Collapsible,{className:m.cx("bw-group/card bw-mb-[10px] bw-mt-[10px] bw-scale-100 bw-overflow-hidden bw-rounded-[8px] bw-border bw-border-solid bw-transition-all bw-duration-300 bw-ease-in-out hover:bw-border-gray-900","data-[state=open]:bw-border-gray-900 data-[state=open]:hover:bw-scale-[1.002]"),open:"manual_resend_appt_customer"===o,onOpenChange:t=>{t?t&&(d("manual_resend_appt_customer"),c(e.getFieldsValue().notice_options)):d(void 0)}},i.createElement(m.CollapsibleTrigger,{asChild:!0},i.createElement("div",{className:"bw-flex bw-h-[50px] bw-cursor-pointer bw-flex-row bw-items-center bw-gap-5 bw-border-solid bw-border-gray-100 bw-pe-4"},i.createElement("h3",{className:"bw-me-auto bw-ms-5 bw-text-sm bw-font-medium bw-leading-none bw-text-gray-900"},r.__("Resend Appointment","bookster")),i.createElement("div",{className:"bw-flex bw-items-center bw-gap-3"},i.createElement("span",{className:"bw-text-xs bw-font-medium bw-uppercase bw-text-gray-500"},r.sprintf(r.__("to %(customer)s","bookster"),s)),i.createElement(m.Separator,{orientation:"vertical",className:"bw-h-3"}),i.createElement(m.Switch,{id:`${ge}_enabled`,checked:!0,disabled:!0,className:"bw-pointer-events-none !bw-opacity-30"})))),i.createElement(m.CollapsibleContent,{forceMountWithAnimation:!0,className:"bw-px-5"},i.createElement("div",{className:"bw-border-t bw-pb-5 bw-pt-4"},i.createElement("div",{className:"bw-mb-5"},i.createElement(b.Form.Item,{label:r.__("Subject","bookster"),name:["notice_options","subject"],className:"bw-mb-4",rules:[{required:!0,max:100}]},i.createElement(m.Input,{id:`${ge}_subject`})),i.createElement(b.Form.Item,{label:r.__("Heading","bookster"),name:["notice_options","heading"],className:"bw-mb-4",rules:[{required:!0,max:100}]},i.createElement(m.Input,{id:`${ge}_heading`})),i.createElement(b.Form.Item,{label:r.__("Message","bookster"),name:["notice_options","message"],className:"bw-mb-4",rules:[{required:!0,max:500}]},i.createElement(m.Textarea,{id:`${ge}_message`,rows:3}))),i.createElement(m.Separator,{className:"bw-mb-5"}),i.createElement("div",{className:"bw-flex bw-gap-5"},i.createElement(m.Button,{className:"bw-w-1/2",variant:"trivial",onClick:async function(){e.setFieldsValue({notice_options:N.notifications.manual_resend_appt_customer}),c(N.notifications.manual_resend_appt_customer)}},r.__("Reset To Default","bookster")),i.createElement(m.Button,{className:"bw-w-1/2",type:"submit"},r.__("Save Changes","bookster"))))))))}const ge="manual_resend_appt_customer";function _e(){const[e,t]=l.useState("new_booking_manager"),[a,n]=l.useState(N.notifications.new_booking_manager);return i.createElement(Q.Provider,{value:{eventName:e,options:a,setEventName:t,setOptions:n}},i.createElement("div",{className:"bw-relative bw-me-auto bw-grid bw-grid-cols-1 bw-gap-5 xl:bw-grid-cols-2 xl:bw-gap-4 2xl:bw-grid-cols-[5fr,4fr]"},i.createElement("div",{className:"bw-rounded-e-md bw-bg-white bw-p-5 xl:bw-p-4"},i.createElement("h4",{className:"bw-text-lg bw-font-medium bw-text-gray-900"},r.__("Email Notifications","bookster")),i.createElement("p",{className:"bw-text-sm bw-text-gray-500"},r.__("The notifications from Bookster are listed below.","bookster")),i.createElement(me,null),i.createElement(be,null),i.createElement(oe,null),i.createElement(ae,null),i.createElement(se,null),i.createElement(ue,null),i.createElement(pe,null)),i.createElement("div",{className:"bw-hidden bw-rounded-md bw-bg-white bw-px-5 bw-pb-5 bw-pt-2 bw-leading-normal xl:bw-block xl:bw-px-4"},i.createElement(ee,null))))}function Ee(){const e=n.useMatch("integrations/email/:menuId/*"),t=(null==e?void 0:e.params.menuId)||"options",a=n.useNavigate();return i.createElement(m.Tabs,{value:t,className:"bw-flex bw-flex-row bw-items-stretch"},i.createElement("aside",{className:"bw-min-h-[32rem] bw-flex-none bw-rounded-s-md bw-border-r bw-border-solid bw-border-gray-100 bw-bg-white bw-p-5 max-xl:bw-w-64 xl:bw-w-56 xl:bw-p-4 2xl:bw-w-64"},i.createElement(m.ReactTabs.List,{className:"bw-flex bw-flex-col bw-space-y-1"},i.createElement(m.VerticalTabsTrigger,{value:"options",onClick:()=>a("/integrations/email/options"),className:"bw-flex bw-h-10 bw-justify-between"},r.__("Options","bookster"),i.createElement(c.ChevronRight,{className:"bw-h-2 bw-w-2"})),i.createElement(m.VerticalTabsTrigger,{value:"notifications",onClick:()=>a("/integrations/email/notifications"),className:"bw-flex bw-h-10 bw-justify-between"},r.__("Notifications","bookster"),i.createElement(c.ChevronRight,{className:"bw-h-2 bw-w-2"})),p.booksterHooks.applyFilters(p.HOOK_NAMES.integrations.EmailTabsTrigger,[],a))),i.createElement("div",{className:"bw-grow"},i.createElement(m.TabsContent,{value:"options",className:"bw-min-h-[32rem]"},i.createElement(G,null)),i.createElement(m.TabsContent,{value:"notifications",className:"bw-min-h-[32rem]"},i.createElement(_e,null)),p.booksterHooks.applyFilters(p.HOOK_NAMES.integrations.EmailTabsContent,[])))}function fe({addonSlug:e}){const{addonInfo:t,metadata:a}=x(e),n="coming_soon"===(null==t?void 0:t.releaseStatus),o=(null==a?void 0:a.link)||"https://wpbookster.com/addons";return i.createElement(m.Tooltip,{content:n?r.__("Coming soon","bookster"):r.__("Download Now","bookster")},i.createElement(he,{onClick:()=>{window.open(o,"_blank")}},i.createElement(c.Plug,null)))}function ve(){const e=n.useNavigate();return i.createElement(m.Tooltip,{content:r.__("Activate Now","bookster")},i.createElement(he,{onClick:()=>{e("/addons")}},i.createElement(c.Plug,null)))}const he=l.forwardRef((({children:e,...t},a)=>i.createElement(m.Button,{ref:a,variant:"ghost",size:"icon",className:"bw-text-gray-500/40 hover:bw-bg-gray-50",...t},e))),ye=m.styled.p("bw-text-sm bw-leading-none bw-text-gray-900"),ke=m.styled.p("bw-mt-2 bw-text-xs bw-leading-none bw-text-gray-500");function xe(){const e=n.useNavigate();return i.createElement("div",{className:"bw-rounded-md bw-bg-white bw-p-5 bw-shadow-sm"},i.createElement("h4",{className:"bw-text-lg bw-font-semibold"},r.__("Automation and Integrations","bookster")),i.createElement("p",{className:"bw-text-sm bw-font-normal bw-text-gray-500"},r.__("Install Addons and extend your workflow, connect with other tools and automate your tasks.","bookster")),i.createElement("div",{className:"bw-my-5 bw-flex bw-items-center bw-gap-4 bw-rounded bw-border bw-p-5"},i.createElement("div",{className:"bw-me-auto"},i.createElement(ye,null,r.__("Email Notifications","bookster")),i.createElement(ke,null,r.__("The default notifications channel for Bookster.","bookster"))),i.createElement(m.Separator,{orientation:"vertical"}),i.createElement(m.Tooltip,{content:r.__("Configure","bookster")},i.createElement(he,{onClick:()=>{e("/integrations/email")}},i.createElement(c.Bolt,null)))),i.createElement("div",{className:"bw-my-5 bw-items-center bw-rounded bw-border bw-p-5 bw-leading-none"},i.createElement(ye,null,r.__("Payment Gateways","bookster")),i.createElement(ke,null,r.sprintf(r.__("Accept payments from your %(customers)s using popular online payment %(services)s.","bookster"),s)),i.createElement("div",{className:"bw-my-5 bw-flex bw-items-center bw-gap-4 bw-leading-none"},i.createElement("div",{className:"bw-me-auto"},i.createElement(ye,null,r.__("Stripe","bookster")),i.createElement(ke,null,r.__("Secure checkout via Stripe payment","bookster"))),i.createElement(m.Separator,{orientation:"vertical"}),"activated"===Se&&i.createElement(m.Tooltip,{content:r.__("Configure","bookster")},i.createElement(he,{onClick:()=>{e("/settings/payment")}},i.createElement(c.Bolt,null))),"installed"===Se&&i.createElement(ve,null),(void 0===Se||"not_installed"===Se)&&i.createElement(fe,{addonSlug:"bookster-stripe"})),i.createElement(m.Separator,null),i.createElement("div",{className:"bw-mt-5 bw-flex bw-items-center bw-gap-4 bw-leading-none"},i.createElement("div",{className:"bw-me-auto"},i.createElement(ye,null,r.__("Paypal","bookster")),i.createElement(ke,null,r.__("Pay easily with PayPal checkout.","bookster"))),i.createElement(m.Separator,{orientation:"vertical"}),"activated"===Ce&&i.createElement(m.Tooltip,{content:r.__("Configure","bookster")},i.createElement(he,{onClick:()=>{e("/settings/payment")}},i.createElement(c.Bolt,null))),"installed"===Ce&&i.createElement(ve,null),(void 0===Ce||"not_installed"===Ce)&&i.createElement(fe,{addonSlug:"bookster-paypal"}))),i.createElement("div",{className:"bw-flex bw-items-center bw-gap-4 bw-rounded bw-border bw-p-5"},i.createElement("div",{className:"bw-me-auto"},i.createElement(ye,null,r.__("Google Calendar and Meet","bookster")),i.createElement(ke,null,r.sprintf(r.__("%(agent)s could connect appointments with Google Calendar and Meet.","bookster"),s))),i.createElement(m.Separator,{orientation:"vertical"}),"activated"===Fe&&i.createElement(m.Tooltip,{content:r.__("Configure","bookster")},i.createElement(he,{onClick:()=>{e("/integrations/google")}},i.createElement(c.Bolt,null))),"installed"===Fe&&i.createElement(ve,null),(void 0===Fe||"not_installed"===Fe)&&i.createElement(fe,{addonSlug:"bookster-google"})))}const Ne=window.booksterAddons.addonInfos,Se=null==(e=Ne.find((e=>"bookster-stripe"===e.slug)))?void 0:e.installStatus,Ce=null==(t=Ne.find((e=>"bookster-paypal"===e.slug)))?void 0:t.installStatus,Fe=null==(a=Ne.find((e=>"bookster-google"===e.slug)))?void 0:a.installStatus;function Te(){const e=n.useNavigate(),{tabId:t="overview"}=n.useParams();return i.createElement(w,null,i.createElement(m.Tabs,{value:t,className:"bw-mx-auto bw-max-w-[1350px]"},i.createElement(u.Standalone,{className:"bw-pb-2"},r.__("Intergrations","bookster")),i.createElement("div",{className:"bw-mb-5 bw-overflow-x-auto"},i.createElement(m.TabsList,{className:"bw-mb-0 bw-min-w-max"},i.createElement(m.LineTabsTrigger,{value:"overview",onClick:()=>{e("/integrations/overview")}},r.__("Overview","bookster")),i.createElement(m.LineTabsTrigger,{value:"email",onClick:()=>{e("/integrations/email")}},r.__("Email","bookster")),p.booksterHooks.applyFilters(p.HOOK_NAMES.integrations.TabsTrigger,[],e))),i.createElement(m.TabsContent,{value:"overview",className:"bw-mx-auto",forceMount:!1},i.createElement(xe,null)),i.createElement(m.TabsContent,{value:"email",className:"bw-mx-auto",forceMount:!1},i.createElement(Ee,null)),p.booksterHooks.applyFilters(p.HOOK_NAMES.integrations.TabsContent,[])))}export{Te as default};
