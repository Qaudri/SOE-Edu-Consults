import{e,f as t,i as r,g as n,h as o,j as i,_ as s,k as a,l,n as c,o as u,s as d,p as h,S as p,B as f,q as g,R as v,t as m,v as y,w as S,F as R,x as C,y as w,z as b,A as E,D,E as x,G as k,H as P,I as M,J as I,K as W,L as H,M as N,N as T,O as U,P as L,Q as B,T as O,U as A,V as _,W as z,X as G,Y as q,Z as F,$ as j,a0 as V,a1 as X,a2 as Y,a3 as Z,a4 as K,a5 as J,a6 as $,a7 as Q,a8 as ee,a9 as te,aa as re,ab as ne,ac as oe,ad as ie,ae as se,af as ae,ag as le,ah as ce,ai as ue,aj as de,ak as he,al as pe,am as fe,an as ge,ao as ve,ap as me,aq as ye,ar as Se,as as Re,at as Ce,au as we,av as be,aw as Ee,ax as De,ay as xe,az as ke,aA as Pe,aB as Me,aC as Ie,aD as We,aE as He,aF as Ne,aG as Te,aH as Ue,aI as Le,aJ as Be,aK as Oe,aL as Ae,aM as _e,aN as ze,aO as Ge,aP as qe,aQ as Fe,aR as je,aS as Ve,aT as Xe,aU as Ye,aV as Ze,aW as Ke,aX as Je,aY as $e,aZ as Qe,a_ as et,a$ as tt,b0 as rt}from"./CalendarContent-e50ff6c3.js";var nt,ot=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],it={position:"absolute",zIndex:99999,bottom:"1px",left:"1px",background:"#eee",borderColor:"#ddd",borderStyle:"solid",borderWidth:"1px 1px 0 0",padding:"2px 4px",fontSize:"12px",borderTopRightRadius:"3px"},st=e({optionRefiners:{schedulerLicenseKey:String},viewContainerAppends:[function(e){var i,s=e.options.schedulerLicenseKey;if(i=window.location.href,!/\w+:\/\/fullcalendar\.io\/|\/examples\/[\w-]+\.html$/.test(i)&&!function(e){if(-1!==ot.indexOf(e))return!0;var t=(e||"").match(/^(\d+)-fcs-(\d+)$/);if(t&&10===t[1].length){var i=new Date(1e3*parseInt(t[2],10)),s=new Date(o.mockSchedulerReleaseDate||"2020-06-29");if(r(s)&&n(s,-372)<i)return!0}return!1}(s))return t("div",{className:"fc-license-message",style:it},"Please use a valid license key. ",t("a",{href:"http://fullcalendar.io/scheduler/license/"},"More Info"))}]}),at="wheel mousewheel DomMouseScroll MozMousePixelScroll".split(" "),lt=function(){function e(e){var t=this;this.el=e,this.emitter=new A,this.isScrolling=!1,this.isTouching=!1,this.isRecentlyWheeled=!1,this.isRecentlyScrolled=!1,this.wheelWaiter=new _(this._handleWheelWaited.bind(this)),this.scrollWaiter=new _(this._handleScrollWaited.bind(this)),this.handleScroll=function(){t.startScroll(),t.emitter.trigger("scroll",t.isRecentlyWheeled,t.isTouching),t.isRecentlyScrolled=!0,t.scrollWaiter.request(500)},this.handleWheel=function(){t.isRecentlyWheeled=!0,t.wheelWaiter.request(500)},this.handleTouchStart=function(){t.isTouching=!0},this.handleTouchEnd=function(){t.isTouching=!1,t.isRecentlyScrolled||t.endScroll()},e.addEventListener("scroll",this.handleScroll),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),e.addEventListener("touchend",this.handleTouchEnd);for(var r=0,n=at;r<n.length;r++){var o=n[r];e.addEventListener(o,this.handleWheel)}}return e.prototype.destroy=function(){var e=this.el;e.removeEventListener("scroll",this.handleScroll),e.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),e.removeEventListener("touchend",this.handleTouchEnd);for(var t=0,r=at;t<r.length;t++){var n=r[t];e.removeEventListener(n,this.handleWheel)}},e.prototype.startScroll=function(){this.isScrolling||(this.isScrolling=!0,this.emitter.trigger("scrollStart",this.isRecentlyWheeled,this.isTouching))},e.prototype.endScroll=function(){this.isScrolling&&(this.emitter.trigger("scrollEnd"),this.isScrolling=!1,this.isRecentlyScrolled=!0,this.isRecentlyWheeled=!1,this.scrollWaiter.clear(),this.wheelWaiter.clear())},e.prototype._handleScrollWaited=function(){this.isRecentlyScrolled=!1,this.isTouching||this.endScroll()},e.prototype._handleWheelWaited=function(){this.isRecentlyWheeled=!1},e}();function ct(e){var t=e.scrollLeft;if("rtl"===window.getComputedStyle(e).direction)switch(dt()){case"negative":t=e.scrollWidth-e.clientWidth+t;break;case"reverse":t=e.scrollWidth-e.clientWidth-t}return t}function ut(e,t){if("rtl"===window.getComputedStyle(e).direction)switch(dt()){case"positive":t=e.scrollWidth-e.clientWidth+t;break;case"reverse":t=-t}e.scrollLeft=t}function dt(){return nt||(t=i('<div style=" position: absolute; top: -1000px; width: 1px; height: 1px; overflow: scroll; direction: rtl; font-size: 100px; ">A</div>'),document.body.appendChild(t),t.scrollLeft>0?e="positive":(t.scrollLeft=1,e=t.scrollLeft>0?"reverse":"negative"),U(t),nt=e);var e,t}var ht,pt=-1!==(ht=i('<div style="position:-webkit-sticky;position:sticky"></div>').style.position).indexOf("sticky")?ht:null,ft=/Edge/.test(navigator.userAgent),gt=function(){function e(e,t){var r=this;this.scrollEl=e,this.isRtl=t,this.usingRelative=null,this.updateSize=function(){var e=r.scrollEl,t=k(e,".fc-sticky"),n=r.queryElGeoms(t),o=e.clientWidth,i=e.clientHeight;r.usingRelative?function(e,t,r,n,o){e.forEach((function(e,i){var s,a,l=t[i],c=l.naturalBound,u=l.parentBound,d=u.right-u.left,h=u.bottom-u.bottom;d>n||h>o?(s=r[i].left-c.left,a=r[i].top-c.top):(s="",a=""),O(e,{position:"relative",left:s,right:-s,top:a})}))}(t,n,r.computeElDestinations(n,o),o,i):function(e,t,r){e.forEach((function(e,n){var o,i=t[n],s=i.textAlign,a=i.elWidth,l=i.parentBound,c=l.right-l.left;O(e,{left:o="center"===s&&c>r?(r-a)/2:"",right:o,top:0})}))}(t,n,o)},this.usingRelative=!pt||ft&&t,this.usingRelative&&(this.listener=new lt(e),this.listener.emitter.on("scrollEnd",this.updateSize))}return e.prototype.destroy=function(){this.listener&&this.listener.destroy()},e.prototype.queryElGeoms=function(e){for(var t=this.scrollEl,r=this.isRtl,n=function(e){var t=e.getBoundingClientRect(),r=z(e);return{left:t.left+r.borderLeft+r.scrollbarLeft-ct(e),top:t.top+r.borderTop-e.scrollTop}}(t),o=[],i=0,s=e;i<s.length;i++){var a=s[i],l=L(B(a.parentNode,!0,!0),-n.left,-n.top),c=a.getBoundingClientRect(),u=window.getComputedStyle(a),d=window.getComputedStyle(a.parentNode).textAlign,h=null;"start"===d?d=r?"right":"left":"end"===d&&(d=r?"left":"right"),"sticky"!==u.position&&(h=L(c,-n.left-(parseFloat(u.left)||0),-n.top-(parseFloat(u.top)||0))),o.push({parentBound:l,naturalBound:h,elWidth:c.width,elHeight:c.height,textAlign:d})}return o},e.prototype.computeElDestinations=function(e,t){var r=this.scrollEl,n=r.scrollTop,o=ct(r),i=o+t;return e.map((function(e){var t,r,s=e.elWidth,a=e.elHeight,l=e.parentBound,c=e.naturalBound;switch(e.textAlign){case"left":t=o;break;case"right":t=i-s;break;case"center":t=(o+i)/2-s/2}return t=Math.min(t,l.right-s),t=Math.max(t,l.left),r=n,r=Math.min(r,l.bottom-a),{left:t,top:r=Math.max(r,c.top)}}))},e}(),vt=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.elRef=c(),t.state={xScrollbarWidth:u().x,yScrollbarWidth:u().y},t.handleScroller=function(e){t.scroller=e,d(t.props.scrollerRef,e)},t.handleSizing=function(){var e=t.props;"scroll-hidden"===e.overflowY&&t.setState({yScrollbarWidth:t.scroller.getYScrollbarWidth()}),"scroll-hidden"===e.overflowX&&t.setState({xScrollbarWidth:t.scroller.getXScrollbarWidth()})},t}return s(r,e),r.prototype.render=function(){var e=this,r=e.props,n=e.state,o=e.context.isRtl&&h(),i=0,s=0,a=0;return"scroll-hidden"===r.overflowX&&(a=n.xScrollbarWidth),"scroll-hidden"===r.overflowY&&null!=n.yScrollbarWidth&&(o?i=n.yScrollbarWidth:s=n.yScrollbarWidth),t("div",{ref:this.elRef,className:"fc-scroller-harness"+(r.liquid?" fc-scroller-harness-liquid":"")},t(p,{ref:this.handleScroller,elRef:this.props.scrollerElRef,overflowX:"scroll-hidden"===r.overflowX?"scroll":r.overflowX,overflowY:"scroll-hidden"===r.overflowY?"scroll":r.overflowY,overcomeLeft:i,overcomeRight:s,overcomeBottom:a,maxHeight:"number"==typeof r.maxHeight?r.maxHeight+("scroll-hidden"===r.overflowX?n.xScrollbarWidth:0):"",liquid:r.liquid,liquidIsAbsolute:!0},r.children))},r.prototype.componentDidMount=function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},r.prototype.componentDidUpdate=function(e){l(e,this.props)||this.handleSizing()},r.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)},r.prototype.needsXScrolling=function(){return this.scroller.needsXScrolling()},r.prototype.needsYScrolling=function(){return this.scroller.needsYScrolling()},r}(f),mt=function(){function e(e,t){var r=this;this.isVertical=e,this.scrollEls=t,this.isPaused=!1,this.scrollListeners=t.map((function(e){return r.bindScroller(e)}))}return e.prototype.destroy=function(){for(var e=0,t=this.scrollListeners;e<t.length;e++)t[e].destroy()},e.prototype.bindScroller=function(e){var t=this,r=this.scrollEls,n=this.isVertical,o=new lt(e);return o.emitter.on("scroll",(function(o,i){if(!t.isPaused&&((!t.masterEl||t.masterEl!==e&&(o||i))&&t.assignMaster(e),t.masterEl===e))for(var s=0,a=r;s<a.length;s++){var l=a[s];l!==e&&(n?l.scrollTop=e.scrollTop:l.scrollLeft=e.scrollLeft)}})),o.emitter.on("scrollEnd",(function(){t.masterEl===e&&(t.masterEl=null)})),o},e.prototype.assignMaster=function(e){this.masterEl=e;for(var t=0,r=this.scrollListeners;t<r.length;t++){var n=r[t];n.el!==e&&n.endScroll()}},e.prototype.forceScrollLeft=function(e){this.isPaused=!0;for(var t=0,r=this.scrollListeners;t<r.length;t++)ut(r[t].el,e);this.isPaused=!1},e.prototype.forceScrollTop=function(e){this.isPaused=!0;for(var t=0,r=this.scrollListeners;t<r.length;t++)r[t].el.scrollTop=e;this.isPaused=!1},e}(),yt=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.compileColGroupStats=g(wt,Dt),t.renderMicroColGroups=g(W),t.clippedScrollerRefs=new v,t.scrollerElRefs=new v(t._handleScrollerEl.bind(t)),t.chunkElRefs=new v(t._handleChunkEl.bind(t)),t.getStickyScrolling=g(Pt,null,Mt),t.getScrollSyncersBySection=m(xt.bind(t,!0),null,kt),t.getScrollSyncersByColumn=m(xt.bind(t,!1),null,kt),t.stickyScrollings=[],t.scrollSyncersBySection={},t.scrollSyncersByColumn={},t.rowUnstableMap=new Map,t.rowInnerMaxHeightMap=new Map,t.anyRowHeightsChanged=!1,t.state={shrinkWidths:[],forceYScrollbars:!1,forceXScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{},sectionRowMaxHeights:[]},t.handleSizing=function(e){e||(t.anyRowHeightsChanged=!0);var r={};e||t.rowUnstableMap.size||(r.sectionRowMaxHeights=t.computeSectionRowMaxHeights()),t.setState(y(y({shrinkWidths:t.computeShrinkWidths()},t.computeScrollerDims()),r),(function(){t.rowUnstableMap.size||t.updateStickyScrolling()}))},t.handleRowHeightChange=function(e,r){var n=t,o=n.rowUnstableMap,i=n.rowInnerMaxHeightMap;if(r){o.delete(e);var s=Rt(e);i.has(e)&&i.get(e)===s||(i.set(e,s),t.anyRowHeightsChanged=!0),!o.size&&t.anyRowHeightsChanged&&(t.anyRowHeightsChanged=!1,t.setState({sectionRowMaxHeights:t.computeSectionRowMaxHeights()}))}else o.set(e,!0)},t}return s(r,e),r.prototype.render=function(){var e=this,r=e.props,n=e.state,o=e.context,i=n.shrinkWidths,s=this.compileColGroupStats(r.colGroups.map((function(e){return[e]}))),a=this.renderMicroColGroups(s.map((function(e,t){return[e.cols,i[t]]}))),l=S(r.liquid,o),c=this.getDims();c[0],c[1];for(var u,d=r.sections,h=d.length,p=0,f=[],g=[],v=[];p<h&&"header"===(u=d[p]).type;)f.push(this.renderSection(u,p,s,a,n.sectionRowMaxHeights)),p++;for(;p<h&&"body"===(u=d[p]).type;)g.push(this.renderSection(u,p,s,a,n.sectionRowMaxHeights)),p++;for(;p<h&&"footer"===(u=d[p]).type;)v.push(this.renderSection(u,p,s,a,n.sectionRowMaxHeights)),p++;return t(R,null,t("table",{ref:r.elRef,className:l.join(" ")},function(e,r){var n=e.map((function(e,n){var o=e.width;return"shrink"===o&&(o=e.totalColWidth+I(r[n])+1),t("col",{style:{width:o}})}));return t.apply(void 0,C(["colgroup",{}],n))}(s,i),Boolean(f.length)&&t.apply(void 0,C(["thead",{}],f)),Boolean(g.length)&&t.apply(void 0,C(["tbody",{}],g)),Boolean(v.length)&&t.apply(void 0,C(["tfoot",{}],v))))},r.prototype.renderSection=function(e,r,n,o,i){var s=this;return"outerContent"in e?t(R,{key:e.key},e.outerContent):t("tr",{key:e.key,className:w(e,this.props.liquid).join(" ")},e.chunks.map((function(t,a){return s.renderChunk(e,r,n[a],o[a],t,a,(i[r]||[])[a]||[])})))},r.prototype.renderChunk=function(e,r,n,o,i,s,a){if("outerContent"in i)return t(R,{key:i.key},i.outerContent);var l=this.state,c=l.scrollerClientWidths,u=l.scrollerClientHeights,d=this.getDims(),p=d[0],f=d[1],g=r*f+s,v=s===(!this.context.isRtl||h()?f-1:0),m=r===p-1,y=m&&l.forceXScrollbars,S=v&&l.forceYScrollbars,C=n&&n.allowXScrolling,w=b(this.props,e),x=E(this.props,e),k=e.expandRows&&x,P=n&&n.totalColMinWidth||"",M=D(e,i,{tableColGroupNode:o,tableMinWidth:P,clientWidth:void 0!==c[g]?c[g]:null,clientHeight:void 0!==u[g]?u[g]:null,expandRows:k,syncRowHeights:Boolean(e.syncRowHeights),rowSyncHeights:a,reportRowHeightChange:this.handleRowHeightChange}),I=y?m?"scroll":"scroll-hidden":C?m?"auto":"scroll-hidden":"hidden",W=S?v?"scroll":"scroll-hidden":w?v?"auto":"scroll-hidden":"hidden";return M=t(vt,{ref:this.clippedScrollerRefs.createRef(g),scrollerElRef:this.scrollerElRefs.createRef(g),overflowX:I,overflowY:W,liquid:x,maxHeight:e.maxHeight},M),t("td",{key:i.key,ref:this.chunkElRefs.createRef(g)},M)},r.prototype.componentDidMount=function(){this.updateScrollSyncers(),this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},r.prototype.componentDidUpdate=function(e,t){this.updateScrollSyncers(),this.handleSizing(t.sectionRowMaxHeights!==this.state.sectionRowMaxHeights)},r.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing),this.destroyStickyScrolling(),this.destroyScrollSyncers()},r.prototype.computeShrinkWidths=function(){var e=this,t=this.compileColGroupStats(this.props.colGroups.map((function(e){return[e]}))),r=this.getDims(),n=r[0],o=r[1],i=n*o,s=[];return t.forEach((function(t,r){if(t.hasShrinkCol){var n=e.chunkElRefs.collect(r,i,o);s[r]=x(n)}})),s},r.prototype.computeSectionRowMaxHeights=function(){for(var e=this.rowInnerMaxHeightMap,t=new Map,r=this.getDims(),n=r[0],o=r[1],i=[],s=0;s<n;s++){var a=this.props.sections[s],l=[];if(a&&a.syncRowHeights){for(var c=[],u=0;u<o;u++){var d,h=s*o+u,p=this.chunkElRefs.currentMap[h];d=p?k(p,".fc-scrollgrid-sync-table tr").map((function(r){var n=e.get(r);return null==n&&(n=Rt(r)),t.set(r,n),n})):[],c.push(d)}var f=c[0].length,g=!0;for(u=1;u<o;u++)if((!a.chunks[u]||void 0===a.chunks[u].outerContent)&&c[u].length!==f){g=!1;break}if(g){for(u=0;u<o;u++)l.push([]);for(C=0;C<f;C++){var v=[];for(u=0;u<o;u++){var m=c[u][C];null!=m&&v.push(m)}var y=Math.max.apply(Math,v);for(u=0;u<o;u++)l[u].push(y)}}else{var S=[];for(u=0;u<o;u++)S.push(St(c[u])+c[u].length);var R=Math.max.apply(Math,S);for(u=0;u<o;u++){var C,w=c[u].length,b=R-w,E=Math.floor(b/w),D=b-E*(w-1),x=[];for((C=0)<w&&(x.push(D),C++);C<w;)x.push(E),C++;l.push(x)}}}i.push(l)}return this.rowInnerMaxHeightMap=t,i},r.prototype.computeScrollerDims=function(){for(var e=u(),t=this.getDims(),r=t[0],n=t[1],o=!this.context.isRtl||h()?n-1:0,i=r-1,s=this.clippedScrollerRefs.currentMap,a=this.scrollerElRefs.currentMap,l=!1,c=!1,d={},p={},f=0;f<r;f++)if((v=s[m=f*n+o])&&v.needsYScrolling()){l=!0;break}for(var g=0;g<n;g++){var v;if((v=s[m=i*n+g])&&v.needsXScrolling()){c=!0;break}}for(f=0;f<r;f++)for(g=0;g<n;g++){var m,y=a[m=f*n+g];if(y){var S=y.parentNode;d[m]=Math.floor(S.getBoundingClientRect().width-(g===o&&l?e.y:0)),p[m]=Math.floor(S.getBoundingClientRect().height-(f===i&&c?e.x:0))}}return{forceYScrollbars:l,forceXScrollbars:c,scrollerClientWidths:d,scrollerClientHeights:p}},r.prototype.updateStickyScrolling=function(){var e=this.context.isRtl,t=this.scrollerElRefs.getAll().map((function(t){return[t,e]})),r=this.getStickyScrolling(t);for(var n in r)r[n].updateSize();this.stickyScrollings=r},r.prototype.destroyStickyScrolling=function(){this.stickyScrollings.forEach(Mt)},r.prototype.updateScrollSyncers=function(){for(var e=this.getDims(),t=e[0],r=e[1],n=t*r,o={},i={},s=this.scrollerElRefs.currentMap,a=0;a<t;a++){var l=a*r,c=l+r;o[a]=P(s,l,c,1)}for(var u=0;u<r;u++)i[u]=this.scrollerElRefs.collect(u,n,r);this.scrollSyncersBySection=this.getScrollSyncersBySection(o),this.scrollSyncersByColumn=this.getScrollSyncersByColumn(i)},r.prototype.destroyScrollSyncers=function(){M(this.scrollSyncersBySection,kt),M(this.scrollSyncersByColumn,kt)},r.prototype.getChunkConfigByIndex=function(e){var t=this.getDims()[1],r=Math.floor(e/t),n=e%t,o=this.props.sections[r];return o&&o.chunks[n]},r.prototype.forceScrollLeft=function(e,t){var r=this.scrollSyncersByColumn[e];r&&r.forceScrollLeft(t)},r.prototype.forceScrollTop=function(e,t){var r=this.scrollSyncersBySection[e];r&&r.forceScrollTop(t)},r.prototype._handleChunkEl=function(e,t){var r=this.getChunkConfigByIndex(parseInt(t,10));r&&d(r.elRef,e)},r.prototype._handleScrollerEl=function(e,t){var r=this.getChunkConfigByIndex(parseInt(t,10));r&&d(r.scrollerElRef,e)},r.prototype.getDims=function(){var e=this.props.sections.length;return[e,e?this.props.sections[0].chunks.length:0]},r}(f);function St(e){for(var t=0,r=0,n=e;r<n.length;r++)t+=n[r];return t}function Rt(e){var t=k(e,".fc-scrollgrid-sync-inner").map(Ct);return t.length?Math.max.apply(Math,t):0}function Ct(e){return e.offsetHeight}function wt(e){var t=bt(e.cols,"width"),r=bt(e.cols,"minWidth"),n=H(e.cols);return{hasShrinkCol:n,totalColWidth:t,totalColMinWidth:r,allowXScrolling:"shrink"!==e.width&&Boolean(t||r||n),cols:e.cols,width:e.width}}function bt(e,t){for(var r=0,n=0,o=e;n<o.length;n++){var i=o[n],s=i[t];"number"==typeof s&&(r+=s*(i.span||1))}return r}yt.addStateEquality({shrinkWidths:a,scrollerClientWidths:l,scrollerClientHeights:l});var Et={cols:T};function Dt(e,t){return N(e,t,Et)}function xt(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new mt(e,t)}function kt(e){e.destroy()}function Pt(e,t){return new gt(e,t)}function Mt(e){e.destroy()}e({deps:[st],scrollGridImpl:yt}),o.MAX_TIMELINE_SLOTS=1e3;var It=[{years:1},{months:1},{days:1},{hours:1},{minutes:30},{minutes:15},{minutes:10},{minutes:5},{minutes:1},{seconds:30},{seconds:15},{seconds:10},{seconds:5},{seconds:1},{milliseconds:500},{milliseconds:100},{milliseconds:10},{milliseconds:1}];function Wt(e,t,r,i){var s={labelInterval:r.slotLabelInterval,slotDuration:r.slotDuration};!function(e,t,r){var n=t.currentRange;if(e.labelInterval&&r.countDurationsBetween(n.start,n.end,e.labelInterval)>o.MAX_TIMELINE_SLOTS&&(console.warn("slotLabelInterval results in too many cells"),e.labelInterval=null),e.slotDuration&&r.countDurationsBetween(n.start,n.end,e.slotDuration)>o.MAX_TIMELINE_SLOTS&&(console.warn("slotDuration results in too many cells"),e.slotDuration=null),e.labelInterval&&e.slotDuration){var i=we(e.labelInterval,e.slotDuration);(null===i||i<1)&&(console.warn("slotLabelInterval must be a multiple of slotDuration"),e.slotDuration=null)}}(s,e,t),Tt(s,e,t),function(e,t,r){var n=t.currentRange,o=e.slotDuration;if(!o){for(var i=Tt(e,t,r),s=0,a=It;s<a.length;s++){var l=Ce(a[s]),c=we(i,l);if(null!==c&&c>1&&c<=6){o=l;break}}o&&r.countDurationsBetween(n.start,n.end,o)>200&&(o=null),o||(o=i),e.slotDuration=o}}(s,e,t);var a=r.slotLabelFormat,l=Array.isArray(a)?a:null!=a?[a]:function(e,t,r,n){var o,i,s=e.labelInterval,a=J(s).unit,l=n.weekNumbers,c=o=i=null;switch("week"!==a||l||(a="day"),a){case"year":c={year:"numeric"};break;case"month":Ut("years",t,r)>1&&(c={year:"numeric"}),o={month:"short"};break;case"week":Ut("years",t,r)>1&&(c={year:"numeric"}),o={week:"narrow"};break;case"day":Ut("years",t,r)>1?c={year:"numeric",month:"long"}:Ut("months",t,r)>1&&(c={month:"long"}),l&&(o={week:"short"}),i={weekday:"narrow",day:"numeric"};break;case"hour":l&&(c={week:"short"}),Ut("days",t,r)>1&&(o={weekday:"short",day:"numeric",month:"numeric",omitCommas:!0}),i={hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"};break;case"minute":Ee(s)/60>=6?(c={hour:"numeric",meridiem:"short"},o=function(e){return":"+Ie(e.date.minute,2)}):c={hour:"numeric",minute:"numeric",meridiem:"short"};break;case"second":be(s)/60>=6?(c={hour:"numeric",minute:"2-digit",meridiem:"lowercase"},o=function(e){return":"+Ie(e.date.second,2)}):c={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"};break;case"millisecond":c={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"},o=function(e){return"."+Ie(e.millisecond,3)}}return[].concat(c||[],o||[],i||[])}(s,e,t,r);s.headerFormats=l.map((function(e){return G(e)})),s.isTimeScale=Boolean(s.slotDuration.milliseconds);var c=null;if(!s.isTimeScale){var u=J(s.slotDuration).unit;/year|month|week/.test(u)&&(c=u)}s.largeUnit=c,s.emphasizeWeeks=Re(s.slotDuration)&&Ut("weeks",e,t)>=2&&!r.businessHours;var d,h,p=r.snapDuration;p&&(d=Ce(p),h=we(s.slotDuration,d)),null==h&&(d=s.slotDuration,h=1),s.snapDuration=d,s.snapsPerSlot=h;var f=ye(e.slotMaxTime)-ye(e.slotMinTime),g=Ht(e.renderRange.start,s,t),v=Ht(e.renderRange.end,s,t);s.isTimeScale&&(g=t.add(g,e.slotMinTime),v=t.add(n(v,-1),e.slotMaxTime)),s.timeWindowMs=f,s.normalizedRange={start:g,end:v};for(var m=[],y=g;y<v;)Nt(y,s,e,i)&&m.push(y),y=t.add(y,s.slotDuration);s.slotDates=m;var S=-1,R=0,C=[],w=[];for(y=g;y<v;)Nt(y,s,e,i)?(S++,C.push(S),w.push(R)):C.push(S+.5),y=t.add(y,s.snapDuration),R++;return s.snapDiffToIndex=C,s.snapIndexToDiff=w,s.snapCnt=S+1,s.slotCnt=s.snapCnt/s.snapsPerSlot,s.isWeekStarts=function(e,t){for(var r=e.slotDates,n=e.emphasizeWeeks,o=null,i=[],s=0,a=r;s<a.length;s++){var l=a[s],c=t.computeWeekNumber(l),u=n&&null!==o&&o!==c;o=c,i.push(u)}return i}(s,t),s.cellRows=function(e,t){for(var r=e.slotDates,n=e.headerFormats,o=n.map((function(e){return[]})),i=n.map((function(e){return e.getLargestUnit?e.getLargestUnit():null})),s=0;s<r.length;s++)for(var a=r[s],l=e.isWeekStarts[s],c=0;c<n.length;c++){var u=n[c],d=o[c],h=d[d.length-1],p=null;if(n.length>1&&c<n.length-1){var f=t.format(a,u);h&&h.text===f?h.colspan+=1:p=Lt(a,f,i[c])}else!h||ee(t.countDurationsBetween(e.normalizedRange.start,a,e.labelInterval))?p=Lt(a,f=t.format(a,u),i[c]):h.colspan+=1;p&&(p.weekStart=l,d.push(p))}return o}(s,t),s.slotsPerLabel=we(s.labelInterval,s.slotDuration),s}function Ht(e,t,r){var n=e;return t.isTimeScale||(n=me(n),t.largeUnit&&(n=r.startOf(n,t.largeUnit))),n}function Nt(e,t,r,n){if(n.isHiddenDay(e))return!1;if(t.isTimeScale){var o=me(e),i=e.valueOf()-o.valueOf()-ye(r.slotMinTime);return(i=(i%864e5+864e5)%864e5)<t.timeWindowMs}return!0}function Tt(e,t,r){var n=t.currentRange,o=e.labelInterval;if(!o){if(e.slotDuration){for(var i=0,s=It;i<s.length;i++){var a=Ce(s[i]),l=we(a,e.slotDuration);if(null!==l&&l<=6){o=a;break}}o||(o=e.slotDuration)}else for(var c=0,u=It;c<u.length&&(o=Ce(u[c]),!(r.countDurationsBetween(n.start,n.end,o)>=18));c++);e.labelInterval=o}return o}function Ut(e,t,r){var n=t.currentRange,o=null;return"years"===e?o=r.diffWholeYears(n.start,n.end):"months"===e||"weeks"===e?o=r.diffWholeMonths(n.start,n.end):"days"===e&&(o=De(n.start,n.end)),o||0}function Lt(e,t,r){return{date:e,text:t,rowUnit:r,colspan:1,isWeekStart:!1}}var Bt=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.refineHookProps=q(_t),t.normalizeClassNames=F(),t}return s(r,e),r.prototype.render=function(){var e=this.props,r=this.context,n=r.dateEnv,o=r.options,i=e.cell,s=e.dateProfile,a=e.tDateProfile,l=j(i.date,e.todayRange,e.nowDate,s),c=["fc-timeline-slot","fc-timeline-slot-label"].concat("time"===i.rowUnit?V(l,r.theme):X(l,r.theme));i.isWeekStart&&c.push("fc-timeline-slot-em");var u=o.navLinks&&i.rowUnit&&"time"!==i.rowUnit?Y(i.date,i.rowUnit):null,d=this.refineHookProps({dateMarker:i.date,text:i.text,dateEnv:r.dateEnv,viewApi:r.viewApi}),h=this.normalizeClassNames(o.slotLabelClassNames,d);return t(Z,{hookProps:d,didMount:o.slotLabelDidMount,willUnmount:o.slotLabelWillUnmount},(function(r){return t("th",{ref:r,className:c.concat(h).join(" "),"data-date":n.formatIso(i.date,{omitTime:!a.isTimeScale,omitTimeZoneOffset:!0}),colSpan:i.colspan},t("div",{className:"fc-timeline-slot-frame",style:{height:e.rowInnerHeight}},t(Ot,{hookProps:d,isSticky:e.isSticky,navLinkData:u})))}))},r}(f),Ot=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return s(r,e),r.prototype.render=function(){var e=this.props,r=this.context,n=e.navLinkData?{"data-navlink":e.navLinkData,tabIndex:0}:{};return t(K,{hookProps:e.hookProps,content:r.options.slotLabelContent,defaultContent:At},(function(r,o){return t("a",y({ref:r,className:"fc-timeline-slot-cushion fc-scrollgrid-sync-inner"+(e.isSticky?" fc-sticky":"")},n),o)}))},r}(f);function At(e){return e.text}function _t(e){return{date:e.dateEnv.toDate(e.dateMarker),view:e.viewApi,text:e.text}}var zt=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return s(r,e),r.prototype.render=function(){var e=this.props,r=e.dateProfile,n=e.tDateProfile,o=e.rowInnerHeights,i=e.todayRange,s=e.nowDate,a=n.cellRows;return t(R,null,a.map((function(e,l){var c=l===a.length-1,u=n.isTimeScale&&c;return t("tr",{key:l,className:["fc-timeline-header-row",u?"fc-timeline-header-row-chrono":""].join(" ")},e.map((function(e){return t(Bt,{key:e.date.toISOString(),cell:e,dateProfile:r,tDateProfile:n,todayRange:i,nowDate:s,rowInnerHeight:o&&o[l],isSticky:!c})})))})))},r}(f),Gt=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=c(),t}return s(r,e),r.prototype.render=function(){var e=this,r=this.props,n=this.context,o=J(r.tDateProfile.slotDuration).unit;return t($,{unit:o},(function(o,i){return t("div",{className:"fc-timeline-header",ref:e.rootElRef},t("table",{className:"fc-scrollgrid-sync-table",style:{minWidth:r.tableMinWidth,width:r.clientWidth}},r.tableColGroupNode,t("tbody",null,t(zt,{dateProfile:r.dateProfile,tDateProfile:r.tDateProfile,nowDate:o,todayRange:i,rowInnerHeights:r.rowInnerHeights}))),n.options.nowIndicator&&r.slatCoords&&r.slatCoords.isDateInRange(o)&&t(Q,{isAxis:!0,date:o},(function(e,n,i,s){return t("div",{ref:e,className:["fc-timeline-now-indicator-arrow"].concat(n).join(" "),style:{left:r.slatCoords.dateToCoord(o)}},s)})))}))},r.prototype.componentDidMount=function(){this.updateSize()},r.prototype.componentDidUpdate=function(){this.updateSize()},r.prototype.updateSize=function(){this.props.onMaxCushionWidth&&this.props.onMaxCushionWidth(this.computeMaxCushionWidth())},r.prototype.computeMaxCushionWidth=function(){return Math.max.apply(Math,k(this.rootElRef.current,".fc-timeline-header-row:last-child .fc-timeline-slot-cushion").map((function(e){return e.getBoundingClientRect().width})))},r}(f),qt=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return s(r,e),r.prototype.render=function(){var e=this.props,r=this.context,n=r.dateEnv,o=r.options,i=r.theme,s=e.date,a=e.tDateProfile,l=e.isEm,c=j(e.date,e.todayRange,e.nowDate,e.dateProfile),u=["fc-timeline-slot","fc-timeline-slot-lane"],d={"data-date":n.formatIso(s,{omitTimeZoneOffset:!0,omitTime:!a.isTimeScale})},h=y(y({date:n.toDate(e.date)},c),{view:r.viewApi});return l&&u.push("fc-timeline-slot-em"),a.isTimeScale&&u.push(ee(n.countDurationsBetween(a.normalizedRange.start,e.date,a.labelInterval))?"fc-timeline-slot-major":"fc-timeline-slot-minor"),u.push.apply(u,e.isDay?X(c,i):V(c,i)),t(te,{hookProps:h,classNames:o.slotLaneClassNames,content:o.slotLaneContent,didMount:o.slotLaneDidMount,willUnmount:o.slotLaneWillUnmount,elRef:e.elRef},(function(e,r,n,o){return t("td",y({ref:e,className:u.concat(r).join(" ")},d),t("div",{ref:n},o))}))},r}(f),Ft=function(){function e(e,t,r,n,o,i){this.slatRootEl=e,this.dateProfile=r,this.tDateProfile=n,this.dateEnv=o,this.isRtl=i,this.outerCoordCache=new xe(e,t,!0,!1),this.innerCoordCache=new xe(e,ke(t,"div"),!0,!1)}return e.prototype.rangeToCoords=function(e){return this.isRtl?{right:this.dateToCoord(e.start),left:this.dateToCoord(e.end)}:{left:this.dateToCoord(e.start),right:this.dateToCoord(e.end)}},e.prototype.isDateInRange=function(e){return Pe(this.dateProfile.currentRange,e)},e.prototype.dateToCoord=function(e){var t=this.tDateProfile,r=this.computeDateSnapCoverage(e)/t.snapsPerSlot,n=Math.floor(r),o=r-(n=Math.min(n,t.slotCnt-1)),i=this.innerCoordCache,s=this.outerCoordCache;return this.isRtl?s.rights[n]-i.getWidth(n)*o-s.originClientRect.width:s.lefts[n]+i.getWidth(n)*o},e.prototype.computeDateSnapCoverage=function(e){return jt(e,this.tDateProfile,this.dateEnv)},e.prototype.computeDurationLeft=function(e){var t=this,r=t.dateProfile,n=t.dateEnv,o=t.isRtl,i=0;return r&&(i=this.dateToCoord(n.add(me(r.activeRange.start),e)),!o&&i&&(i+=1)),i},e}();function jt(e,t,r){var n=r.countDurationsBetween(t.normalizedRange.start,e,t.snapDuration);if(n<0)return 0;if(n>=t.snapDiffToIndex.length)return t.snapCnt;var o=Math.floor(n),i=t.snapDiffToIndex[o];return ee(i)?i+=n-o:i=Math.ceil(i),i}var Vt=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=c(),t.cellElRefs=new v,t.handleScrollRequest=function(e){var r=t.props.onScrollLeftRequest,n=t.coords;if(r&&n)return e.time&&r(n.computeDurationLeft(e.time)),!0},t}return s(r,e),r.prototype.render=function(){var e=this.props,r=this.context;return t("div",{className:"fc-timeline-slots",ref:this.rootElRef},t("table",{className:r.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,t(Xt,{cellElRefs:this.cellElRefs,dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange})))},r.prototype.componentDidMount=function(){this.updateSizing(),this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},r.prototype.componentDidUpdate=function(e){this.updateSizing(),this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)},r.prototype.componentWillUnmount=function(){this.scrollResponder.detach(),this.props.onCoords&&this.props.onCoords(null)},r.prototype.updateSizing=function(){var e,t=this.props,r=this.context;null!==t.clientWidth&&this.scrollResponder&&this.rootElRef.current.offsetWidth&&(this.coords=new Ft(this.rootElRef.current,(e=this.cellElRefs.currentMap,t.tDateProfile.slotDates.map((function(t){var r=t.toISOString();return e[r]}))),t.dateProfile,t.tDateProfile,r.dateEnv,r.isRtl),t.onCoords&&t.onCoords(this.coords),this.scrollResponder.update(!1))},r.prototype.positionToHit=function(e){var t=this.coords.outerCoordCache,r=this.context,n=r.dateEnv,o=r.isRtl,i=this.props.tDateProfile,s=t.leftToIndex(e);if(null!=s){var a=t.getWidth(s),l=o?(t.rights[s]-e)/a:(e-t.lefts[s])/a,c=Math.floor(l*i.snapsPerSlot),u=n.add(i.slotDates[s],re(i.snapDuration,c));return{dateSpan:{range:{start:u,end:n.add(u,i.snapDuration)},allDay:!this.props.tDateProfile.isTimeScale},dayEl:this.cellElRefs.currentMap[s],left:t.lefts[s],right:t.rights[s]}}return null},r}(f),Xt=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return s(r,e),r.prototype.render=function(){var e=this.props,r=e.tDateProfile,n=e.cellElRefs,o=r.slotDates,i=r.isWeekStarts,s=!r.isTimeScale&&!r.largeUnit;return t("tbody",null,t("tr",null,o.map((function(o,a){var l=o.toISOString();return t(qt,{key:l,elRef:n.createRef(l),date:o,dateProfile:e.dateProfile,tDateProfile:r,nowDate:e.nowDate,todayRange:e.todayRange,isEm:i[a],isDay:s})}))))},r}(f),Yt=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return s(r,e),r.prototype.render=function(){var e=this.props,r=[].concat(e.eventResizeSegs,e.dateSelectionSegs);return e.timelineCoords&&t("div",{className:"fc-timeline-bg"},this.renderSegs(e.businessHourSegs||[],e.timelineCoords,"non-business"),this.renderSegs(e.bgEventSegs||[],e.timelineCoords,"bg-event"),this.renderSegs(r,e.timelineCoords,"highlight"))},r.prototype.renderSegs=function(e,r,n){var o=this.props,i=o.todayRange,s=o.nowDate,a=e.map((function(e){var o=r.rangeToCoords(e);return t("div",{key:ne(e.eventRange),className:"fc-timeline-bg-harness",style:{left:o.left,right:-o.right}},"bg-event"===n?t(oe,y({seg:e},ie(e,i,s))):se(n))}));return t(R,null,a)},r}(f),Zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.sliceRange=function(e,t,r,n,o){var i=function(e,t,r){if(!t.isTimeScale&&(e=ve(e),t.largeUnit)){var n=e;((e={start:r.startOf(e.start,t.largeUnit),end:r.startOf(e.end,t.largeUnit)}).end.valueOf()!==n.end.valueOf()||e.end<=e.start)&&(e={start:e.start,end:r.add(e.end,t.slotDuration)})}return e}(e,n,o),s=[];if(jt(i.start,n,o)<jt(i.end,n,o)){var a=ae(i,n.normalizedRange);a&&s.push({start:a.start,end:a.end,isStart:a.start.valueOf()===i.start.valueOf()&&Nt(a.start,n,t,r),isEnd:a.end.valueOf()===i.end.valueOf()&&Nt(le(a.end,-1),n,t,r)})}return s},t}(ce),Kt=G({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"}),Jt=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return s(r,e),r.prototype.render=function(){var e=this.props;return t(ue,y({},e,{extraClassNames:["fc-timeline-event","fc-h-event"],defaultTimeFormat:Kt,defaultDisplayEventTime:!e.isTimeScale}))},r}(f);function $t(e,t){var r={};if(t)for(var n=0,o=e;n<o.length;n++){var i=o[n];r[i.eventRange.instance.instanceId]=t.rangeToCoords(i)}return r}function Qt(e,t,r){var n,o,i,s,a=[],l=0;if(r)for(var c=0,u=e=Me(e,t);c<u.length;c++){var d=u[c].eventRange.instance.instanceId,h=r[d];if(h){for(var p=0,f=0,g=0;g<a.length;g++){var v=a[g];n=h,o=p,i=v.dims,s=v.top,n.right>i.left&&n.left<i.right&&o+n.height>s&&o<s+i.height&&(p=v.top+v.dims.height,f=g)}for(;f<a.length&&p>=a[f].top;)f++;a.splice(f,0,{key:d,dims:h,top:p}),l=Math.max(l,p+h.height)}}for(var m={},y=0,S=a;y<S.length;y++)m[(v=S[y]).key]=v.top;return{segTops:m,height:l}}var er=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.slicer=new Zt,t.computeFgSegHorizontals=de($t),t.computeSegVerticals=de(Qt),t.harnessElRefs=new v,t.innerElRef=c(),t.state={segDims:null},t}return s(r,e),r.prototype.render=function(){var e=this,r=e.props,n=e.state,o=e.context,i=r.dateProfile,s=r.tDateProfile,a=this.slicer.sliceProps(r,i,s.isTimeScale?null:r.nextDayThreshold,o,i,o.dateProfileGenerator,s,o.dateEnv),l=(a.eventDrag?a.eventDrag.segs:null)||(a.eventResize?a.eventResize.segs:null)||[],c=this.computeFgSegHorizontals(a.fgEventSegs,r.timelineCoords),u=this.computeSegVerticals(a.fgEventSegs,o.options.eventOrder,n.segDims),d=u.segTops,h=u.height,p=(a.eventDrag?a.eventDrag.affectedInstances:null)||(a.eventResize?a.eventResize.affectedInstances:null)||{};return t(R,null,t(Yt,{businessHourSegs:a.businessHourSegs,bgEventSegs:a.bgEventSegs,timelineCoords:r.timelineCoords,eventResizeSegs:a.eventResize?a.eventResize.segs:[],dateSelectionSegs:a.dateSelectionSegs,nowDate:r.nowDate,todayRange:r.todayRange}),t("div",{className:"fc-timeline-events fc-scrollgrid-sync-inner",ref:this.innerElRef,style:{height:h}},this.renderFgSegs(a.fgEventSegs,c,d,p,!1,!1,!1),this.renderFgSegs(l,$t(l,r.timelineCoords),d,{},Boolean(a.eventDrag),Boolean(a.eventResize),!1)))},r.prototype.componentDidMount=function(){this.updateSize()},r.prototype.componentDidUpdate=function(e,t){e.eventStore===this.props.eventStore&&e.timelineCoords===this.props.timelineCoords||this.updateSize()},r.prototype.updateSize=function(){var e=this,t=this.props,r=t.timelineCoords;if(t.onHeightChange&&t.onHeightChange(this.innerElRef.current,!1),r){var n=r.slatRootEl.getBoundingClientRect();this.setState({segDims:M(this.harnessElRefs.currentMap,(function(e){var t=e.getBoundingClientRect();return{left:Math.round(t.left-n.left),right:Math.round(t.right-n.left),height:Math.round(t.height)}}))},(function(){t.onHeightChange&&t.onHeightChange(e.innerElRef.current,!0)}))}},r.prototype.renderFgSegs=function(e,r,n,o,i,s,a){var l=this,c=this.harnessElRefs,u=this.props,d=i||s||a;return t(R,null,e.map((function(e){var h=e.eventRange.instance.instanceId,p=r[h],f=n[h];return t("div",{key:h,ref:d?null:c.createRef(h),className:"fc-timeline-event-harness",style:{left:p?p.left:"",right:p?-p.right:"",top:null!=f?f:"",visibility:o[h]?"hidden":""}},t(Jt,y({isTimeScale:l.props.tDateProfile.isTimeScale,seg:e,isDragging:i,isResizing:s,isDateSelecting:a,isSelected:h===l.props.eventSelection},ie(e,u.todayRange,u.nowDate))))})))},r}(f),tr=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.slatsRef=c(),t.state={coords:null},t.handeEl=function(e){e?t.context.registerInteractiveComponent(t,{el:e}):t.context.unregisterInteractiveComponent(t)},t.handleCoords=function(e){t.setState({coords:e}),t.props.onSlatCoords&&t.props.onSlatCoords(e)},t}return s(r,e),r.prototype.render=function(){var e=this,r=this,n=r.props,o=r.state,i=r.context.options,s=n.dateProfile,a=n.tDateProfile,l=J(a.slotDuration).unit;return t("div",{className:"fc-timeline-body",ref:this.handeEl,style:{minWidth:n.tableMinWidth,height:n.clientHeight,width:n.clientWidth}},t($,{unit:l},(function(r,l){return t(R,null,t(Vt,{ref:e.slatsRef,dateProfile:s,tDateProfile:a,nowDate:r,todayRange:l,clientWidth:n.clientWidth,tableColGroupNode:n.tableColGroupNode,tableMinWidth:n.tableMinWidth,onCoords:e.handleCoords,onScrollLeftRequest:n.onScrollLeftRequest}),t(er,{dateProfile:s,tDateProfile:n.tDateProfile,nowDate:r,todayRange:l,nextDayThreshold:i.nextDayThreshold,businessHours:n.businessHours,eventStore:n.eventStore,eventUiBases:n.eventUiBases,dateSelection:n.dateSelection,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,timelineCoords:o.coords}),i.nowIndicator&&o.coords&&o.coords.isDateInRange(r)&&t(Q,{isAxis:!1,date:r},(function(e,n,i,s){return t("div",{ref:e,className:["fc-timeline-now-indicator-line"].concat(n).join(" "),style:{left:o.coords.dateToCoord(r)}},s)})))})))},r.prototype.queryHit=function(e,t,r,n){var o=this.slatsRef.current.positionToHit(e);if(o)return{component:this,dateSpan:o.dateSpan,rect:{left:o.left,right:o.right,top:0,bottom:n},dayEl:o.dayEl,layer:0}},r}(he);function rr(e,t){return[{span:e.slotCnt,minWidth:t||1}]}var nr=e({deps:[st],initialView:"timelineDay",views:{timeline:{component:function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildTimelineDateProfile=de(Wt),t.scrollGridRef=c(),t.state={slatCoords:null,slotCushionMaxWidth:null},t.handleSlatCoords=function(e){t.setState({slatCoords:e})},t.handleScrollLeftRequest=function(e){t.scrollGridRef.current.forceScrollLeft(0,e)},t.handleMaxCushionWidth=function(e){t.setState({slotCushionMaxWidth:Math.ceil(e)})},t}return s(r,e),r.prototype.render=function(){var e=this,r=this,n=r.props,o=r.state,i=r.context,s=i.options,a=!n.forPrint&&pe(s),l=!n.forPrint&&fe(s),c=this.buildTimelineDateProfile(n.dateProfile,i.dateEnv,s,i.dateProfileGenerator),u=["fc-timeline",!1===s.eventOverlap?"fc-timeline-overlap-disabled":""],d=s.slotMinWidth,h=rr(c,d||this.computeFallbackSlotMinWidth(c)),p=[{type:"header",key:"header",isSticky:a,chunks:[{key:"timeline",content:function(r){return t(Gt,{dateProfile:n.dateProfile,clientWidth:r.clientWidth,clientHeight:r.clientHeight,tableMinWidth:r.tableMinWidth,tableColGroupNode:r.tableColGroupNode,tDateProfile:c,slatCoords:o.slatCoords,onMaxCushionWidth:d?null:e.handleMaxCushionWidth})}}]},{type:"body",key:"body",liquid:!0,chunks:[{key:"timeline",content:function(r){return t(tr,y({},n,{clientWidth:r.clientWidth,clientHeight:r.clientHeight,tableMinWidth:r.tableMinWidth,tableColGroupNode:r.tableColGroupNode,tDateProfile:c,onSlatCoords:e.handleSlatCoords,onScrollLeftRequest:e.handleScrollLeftRequest}))}}]}];return l&&p.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"timeline",content:Se}]}),t(ge,{viewSpec:i.viewSpec},(function(r,o){return t("div",{ref:r,className:u.concat(o).join(" ")},t(yt,{ref:e.scrollGridRef,liquid:!n.isHeightAuto&&!n.forPrint,colGroups:[{cols:h}],sections:p}))}))},r.prototype.computeFallbackSlotMinWidth=function(e){return Math.max(30,(this.state.slotCushionMaxWidth||0)/e.slotsPerLabel)},r}(he),eventResizableFromStart:!0},timelineDay:{type:"timeline",duration:{days:1}},timelineWeek:{type:"timeline",duration:{weeks:1}},timelineMonth:{type:"timeline",duration:{months:1}},timelineYear:{type:"timeline",duration:{years:1}}}});function or(e,t){var r=e.resourceEditable;if(null==r){var n=e.sourceId&&t.getCurrentData().eventSources[e.sourceId];n&&(r=n.extendedProps.resourceEditable),null==r&&null==(r=t.options.eventResourceEditable)&&(r=t.options.editable)}return r}var ir=function(){function e(){this.filterResources=de(sr)}return e.prototype.transform=function(e,t){if(t.viewSpec.optionDefaults.needsResourceData)return{resourceStore:this.filterResources(t.resourceStore,t.options.filterResourcesWithEvents,t.eventStore,t.dateProfile.activeRange),resourceEntityExpansions:t.resourceEntityExpansions}},e}();function sr(e,t,r,n){if(t){var o=function(e,t){return ze(e,(function(e){return Ge(e.range,t)}))}(r.instances,n),i=function(e,t){var r={};for(var n in e)for(var o=0,i=t[e[n].defId].resourceIds;o<i.length;o++)r[i[o]]=!0;return r}(o,r.defs);return y(i,function(e,t){var r={};for(var n in e)for(var o=void 0;(o=t[n])&&(n=o.parentId);)r[n]=!0;return r}(i,e)),ze(e,(function(e,t){return i[t]}))}return e}var ar=function(){function e(){this.buildResourceEventUis=de(lr,l),this.injectResourceEventUis=de(cr)}return e.prototype.transform=function(e,t){if(!t.viewSpec.optionDefaults.needsResourceData)return{eventUiBases:this.injectResourceEventUis(e.eventUiBases,e.eventStore.defs,this.buildResourceEventUis(t.resourceStore))}},e}();function lr(e){return M(e,(function(e){return e.ui}))}function cr(e,t,r){return M(e,(function(e,n){return n?function(e,t,r){for(var n=[],o=0,i=t.resourceIds;o<i.length;o++){var s=i[o];r[s]&&n.unshift(r[s])}return n.unshift(e),qe(n)}(e,t[n],r):e}))}var ur=[];function dr(e){ur.push(e)}function hr(e){return ur[e]}var pr={id:String,resources:Fe,url:String,method:String,startParam:String,endParam:String,timeZoneParam:String,extraParams:Fe};function fr(e,t,r,n){if(e){var o=function(e){var t;if("string"==typeof e?t={url:e}:"function"==typeof e||Array.isArray(e)?t={resources:e}:"object"==typeof e&&e&&(t=e),t){var r=Te(t,pr),n=r.refined;!function(e){for(var t in e)console.warn("Unknown resource prop '"+t+"'")}(r.extra);var o=function(e){for(var t=ur,r=t.length-1;r>=0;r--){var n=t[r].parseMeta(e);if(n)return{meta:n,sourceDefId:r}}}(n);if(o)return{_raw:e,sourceId:Ue(),sourceDefId:o.sourceDefId,meta:o.meta,publicId:n.id||"",isFetching:!1,latestFetchId:"",fetchRange:null}}return null}(e);return gr(o,r?t:null,n)}return null}function gr(e,t,r){var n=hr(e.sourceDefId),o=Ue();return n.fetch({resourceSource:e,range:t,context:r},(function(e){r.dispatch({type:"RECEIVE_RESOURCES",fetchId:o,fetchRange:t,rawResources:e.rawResources})}),(function(e){r.dispatch({type:"RECEIVE_RESOURCE_ERROR",fetchId:o,fetchRange:t,error:e})})),y(y({},e),{isFetching:!0,latestFetchId:o})}var vr="_fc:",mr={id:String,parentId:String,children:Fe,title:String,businessHours:Fe,extendedProps:Fe,eventEditable:Boolean,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventConstraint:Fe,eventOverlap:Boolean,eventAllow:Fe,eventClassNames:Je,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String};function yr(e,t,r,n){void 0===t&&(t="");var o=Te(e,mr),i=o.refined,s=o.extra,a={id:i.id||vr+Ue(),parentId:i.parentId||t,title:i.title||"",businessHours:i.businessHours?Le(i.businessHours,n):null,ui:Be({editable:i.eventEditable,startEditable:i.eventStartEditable,durationEditable:i.eventDurationEditable,constraint:i.eventConstraint,overlap:i.eventOverlap,allow:i.eventAllow,classNames:i.eventClassNames,backgroundColor:i.eventBackgroundColor,borderColor:i.eventBorderColor,textColor:i.eventTextColor,color:i.eventColor},n),extendedProps:y(y({},s),i.extendedProps)};if(Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),r[a.id]);else if(r[a.id]=a,i.children)for(var l=0,c=i.children;l<c.length;l++)yr(c[l],a.id,r,n);return a}function Sr(e){return 0===e.indexOf(vr)?"":e}var Rr={resourceId:String,resourceIds:Fe,resourceEditable:Boolean},Cr=function(){function e(e,t){this._context=e,this._resource=t}return e.prototype.setProp=function(e,t){var r=this._resource;this._context.dispatch({type:"SET_RESOURCE_PROP",resourceId:r.id,propName:e,propValue:t}),this.sync(r)},e.prototype.setExtendedProp=function(e,t){var r=this._resource;this._context.dispatch({type:"SET_RESOURCE_EXTENDED_PROP",resourceId:r.id,propName:e,propValue:t}),this.sync(r)},e.prototype.sync=function(t){var r=this._context,n=t.id;this._resource=r.getCurrentData().resourceStore[n],r.emitter.trigger("resourceChange",{oldResource:new e(r,t),resource:this,revert:function(){var e;r.dispatch({type:"ADD_RESOURCE",resourceHash:(e={},e[n]=t,e)})}})},e.prototype.remove=function(){var e=this._context,t=this._resource,r=t.id;e.dispatch({type:"REMOVE_RESOURCE",resourceId:r}),e.emitter.trigger("resourceRemove",{resource:this,revert:function(){var n;e.dispatch({type:"ADD_RESOURCE",resourceHash:(n={},n[r]=t,n)})}})},e.prototype.getParent=function(){var t=this._context,r=this._resource.parentId;return r?new e(t,t.getCurrentData().resourceSource[r]):null},e.prototype.getChildren=function(){var t=this._resource.id,r=this._context,n=r.getCurrentData().resourceStore,o=[];for(var i in n)n[i].parentId===t&&o.push(new e(r,n[i]));return o},e.prototype.getEvents=function(){var e=this._resource.id,t=this._context,r=t.getCurrentData().eventStore,n=r.defs,o=r.instances,i=[];for(var s in o){var a=o[s],l=n[a.defId];-1!==l.resourceIds.indexOf(e)&&i.push(new We(t,l,a))}return i},Object.defineProperty(e.prototype,"id",{get:function(){return Sr(this._resource.id)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this._resource.title},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"eventConstraint",{get:function(){return this._resource.ui.constraints[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"eventOverlap",{get:function(){return this._resource.ui.overlap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"eventAllow",{get:function(){return this._resource.ui.allows[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"eventBackgroundColor",{get:function(){return this._resource.ui.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"eventBorderColor",{get:function(){return this._resource.ui.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"eventTextColor",{get:function(){return this._resource.ui.textColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"eventClassNames",{get:function(){return this._resource.ui.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"extendedProps",{get:function(){return this._resource.extendedProps},enumerable:!1,configurable:!0}),e.prototype.toPlainObject=function(e){void 0===e&&(e={});var t=this._resource,r=t.ui,n=this.id,o={};return n&&(o.id=n),t.title&&(o.title=t.title),e.collapseEventColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?o.eventColor=r.backgroundColor:(r.backgroundColor&&(o.eventBackgroundColor=r.backgroundColor),r.borderColor&&(o.eventBorderColor=r.borderColor)),r.textColor&&(o.eventTextColor=r.textColor),r.classNames.length&&(o.eventClassNames=r.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?y(o,t.extendedProps):o.extendedProps=t.extendedProps),o},e.prototype.toJSON=function(){return this.toPlainObject()},e}();He.prototype.addResource=function(e,t){var r,n=this;void 0===t&&(t=!0);var o,i,s=this.getCurrentData();e instanceof Cr?((r={})[(i=e._resource).id]=i,o=r):i=yr(e,"",o={},s),this.dispatch({type:"ADD_RESOURCE",resourceHash:o}),t&&this.trigger("_scrollRequest",{resourceId:i.id});var a=new Cr(s,i);return s.emitter.trigger("resourceAdd",{resource:a,revert:function(){n.dispatch({type:"REMOVE_RESOURCE",resourceId:i.id})}}),a},He.prototype.getResourceById=function(e){e=String(e);var t=this.getCurrentData();if(t.resourceStore){var r=t.resourceStore[e];if(r)return new Cr(t,r)}return null},He.prototype.getResources=function(){var e=this.getCurrentData(),t=e.resourceStore,r=[];if(t)for(var n in t)r.push(new Cr(e,t[n]));return r},He.prototype.getTopLevelResources=function(){var e=this.getCurrentData(),t=e.resourceStore,r=[];if(t)for(var n in t)t[n].parentId||r.push(new Cr(e,t[n]));return r},He.prototype.refetchResources=function(){this.dispatch({type:"REFETCH_RESOURCES"})};var wr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.getKeyInfo=function(e){return y({"":{}},e.resourceStore)},t.prototype.getKeysForDateSpan=function(e){return[e.resourceId||""]},t.prototype.getKeysForEventDef=function(e){var t=e.resourceIds;return t.length?t:[""]},t}(Oe);function br(e,t){return y(y({},t),{constraints:Er(e,t.constraints)})}function Er(e,t){return t.map((function(t){var r=t.defs;if(r)for(var n in r){var o=r[n].resourceIds;if(o.length&&-1===o.indexOf(e))return!1}return t}))}We.prototype.getResources=function(){var e=this._context.calendarApi;return this._def.resourceIds.map((function(t){return e.getResourceById(t)}))},We.prototype.setResources=function(e){for(var t=[],r=0,n=e;r<n.length;r++){var o=n[r],i=null;"string"==typeof o?i=o:"number"==typeof o?i=String(o):o instanceof Cr?i=o.id:console.warn("unknown resource type: "+o),i&&t.push(i)}this.mutate({standardProps:{resourceIds:t}})};var Dr=Ne("id,title"),xr={initialResources:Fe,resources:Fe,eventResourceEditable:Boolean,refetchResourcesOnNavigate:Boolean,resourceOrder:Ne,filterResourcesWithEvents:Boolean,resourceGroupField:String,resourceAreaWidth:Fe,resourceAreaColumns:Fe,resourcesInitiallyExpanded:Boolean,datesAboveResources:Boolean,needsResourceData:Boolean,resourceAreaHeaderClassNames:Fe,resourceAreaHeaderContent:Fe,resourceAreaHeaderDidMount:Fe,resourceAreaHeaderWillUnmount:Fe,resourceGroupLabelClassNames:Fe,resourceGroupLabelContent:Fe,resourceGroupLabelDidMount:Fe,resourceGroupLabelWillUnmount:Fe,resourceLabelClassNames:Fe,resourceLabelContent:Fe,resourceLabelDidMount:Fe,resourceLabelWillUnmount:Fe,resourceLaneClassNames:Fe,resourceLaneContent:Fe,resourceLaneDidMount:Fe,resourceLaneWillUnmount:Fe,resourceGroupLaneClassNames:Fe,resourceGroupLaneContent:Fe,resourceGroupLaneDidMount:Fe,resourceGroupLaneWillUnmount:Fe},kr={resourcesSet:Fe,resourceAdd:Fe,resourceChange:Fe,resourceRemove:Fe};function Pr(e){return t(Xe.Consumer,null,(function(r){var n=r.options,o={resource:new Cr(r,e.resource),date:e.date?r.dateEnv.toDate(e.date):null,view:r.viewApi},i={"data-resource-id":e.resource.id,"data-date":e.date?Ye(e.date):void 0};return t(te,{hookProps:o,classNames:n.resourceLabelClassNames,content:n.resourceLabelContent,defaultContent:Mr,didMount:n.resourceLabelDidMount,willUnmount:n.resourceLabelWillUnmount},(function(t,r,n,o){return e.children(t,r,i,n,o)}))}))}function Mr(e){return e.resource.title||e.resource.id}function Ir(e,t,r){return e||Ze(t,r)}dr({ignoreRange:!0,parseMeta:function(e){return Array.isArray(e.resources)?e.resources:null},fetch:function(e,t){t({rawResources:e.resourceSource.meta})}}),dr({parseMeta:function(e){return"function"==typeof e.resources?e.resources:null},fetch:function(e,t,r){var n=e.context.dateEnv,o=e.resourceSource.meta,i=e.range?{start:n.toDate(e.range.start),end:n.toDate(e.range.end),startStr:n.formatIso(e.range.start),endStr:n.formatIso(e.range.end),timeZone:n.timeZone}:{};et(o.bind(null,i),(function(e){t({rawResources:e})}),r)}}),dr({parseMeta:function(e){return e.url?{url:e.url,method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams}:null},fetch:function(e,t,r){var n=e.resourceSource.meta,o=function(e,t,r){var n,o,i,s,a=r.dateEnv,l=r.options,c={};return t&&(null==(n=e.startParam)&&(n=l.startParam),null==(o=e.endParam)&&(o=l.endParam),null==(i=e.timeZoneParam)&&(i=l.timeZoneParam),c[n]=a.formatIso(t.start),c[o]=a.formatIso(t.end),"local"!==a.timeZone&&(c[i]=a.timeZone)),s="function"==typeof e.extraParams?e.extraParams():e.extraParams||{},y(c,s),c}(n,e.range,e.context);tt(n.method,n.url,o,(function(e,r){t({rawResources:e,xhr:r})}),(function(e,t){r({message:e,xhr:t})}))}}),function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildDateFormat=de(Ir),t}s(r,e),r.prototype.render=function(){var e=this,r=this.props,n=this.context,o=this.buildDateFormat(n.options.dayHeaderFormat,r.datesRepDistinctDays,r.dates.length);return t($,{unit:"day"},(function(t,i){return 1===r.dates.length?e.renderResourceRow(r.resources,r.dates[0]):n.options.datesAboveResources?e.renderDayAndResourceRows(r.dates,o,i,r.resources):e.renderResourceAndDayRows(r.resources,r.dates,o,i)}))},r.prototype.renderResourceRow=function(e,r){var n=e.map((function(e){return t(Wr,{key:e.id,resource:e,colSpan:1,date:r})}));return this.buildTr(n,"resources")},r.prototype.renderDayAndResourceRows=function(e,r,n,o){for(var i=[],s=[],a=0,l=e;a<l.length;a++){var c=l[a];i.push(this.renderDateCell(c,r,n,o.length,null,!0));for(var u=0,d=o;u<d.length;u++){var h=d[u];s.push(t(Wr,{key:h.id+":"+c.toISOString(),resource:h,colSpan:1,date:c}))}}return t(R,null,this.buildTr(i,"day"),this.buildTr(s,"resources"))},r.prototype.renderResourceAndDayRows=function(e,r,n,o){for(var i=[],s=[],a=0,l=e;a<l.length;a++){var c=l[a];i.push(t(Wr,{key:c.id,resource:c,colSpan:r.length,isSticky:!0}));for(var u=0,d=r;u<d.length;u++){var h=d[u];s.push(this.renderDateCell(h,n,o,1,c))}}return t(R,null,this.buildTr(i,"day"),this.buildTr(s,"resources"))},r.prototype.renderDateCell=function(e,r,n,o,i,s){var a=this.props,l=i?":"+i.id:"",c=i?{resource:new Cr(this.context,i)}:{},u=i?{"data-resource-id":i.id}:{};return a.datesRepDistinctDays?t(Ae,{key:e.toISOString()+l,date:e,dateProfile:a.dateProfile,todayRange:n,colCnt:a.dates.length*a.resources.length,dayHeaderFormat:r,colSpan:o,isSticky:s,extraHookProps:c,extraDataAttrs:u}):t(_e,{key:e.getUTCDay()+l,dow:e.getUTCDay(),dayHeaderFormat:r,colSpan:o,isSticky:s,extraHookProps:c,extraDataAttrs:u})},r.prototype.buildTr=function(e,r){var n=this.props.renderIntro;return e.length||(e=[t("td",{key:0},"")]),t("tr",{key:r},n&&n(),e)}}(f);var Wr=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return s(r,e),r.prototype.render=function(){var e=this.props;return t(Pr,{resource:e.resource,date:e.date},(function(r,n,o,i,s){return t("th",y({ref:r,className:["fc-col-header-cell","fc-resource"].concat(n).join(" "),colSpan:e.colSpan},o),t("div",{className:"fc-scrollgrid-sync-inner"},t("span",{className:["fc-col-header-cell-cushion",e.isSticky?"fc-sticky":""].join(" "),ref:i},s)))}))},r}(f),Hr=function(){function e(e,t,r){this.dayTableModel=e,this.resources=t,this.context=r,this.resourceIndex=new Nr(t),this.rowCnt=e.rowCnt,this.colCnt=e.colCnt*t.length,this.cells=this.buildCells()}return e.prototype.buildCells=function(){for(var e=this,t=e.rowCnt,r=e.dayTableModel,n=e.resources,o=[],i=0;i<t;i++){for(var s=[],a=0;a<r.colCnt;a++)for(var l=0;l<n.length;l++){var c=n[l],u={resource:new Cr(this.context,c)},d={"data-resource-id":c.id},h=r.cells[i][a].date;s[this.computeCol(a,l)]={key:c.id+":"+h.toISOString(),date:h,resource:c,extraHookProps:u,extraDataAttrs:d,extraClassNames:["fc-resource"]}}o.push(s)}return o},e}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}s(t,e),t.prototype.computeCol=function(e,t){return t*this.dayTableModel.colCnt+e},t.prototype.computeColRanges=function(e,t,r){return[{firstCol:this.computeCol(e,r),lastCol:this.computeCol(t,r),isStart:!0,isEnd:!0}]}}(Hr),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}s(t,e),t.prototype.computeCol=function(e,t){return e*this.resources.length+t},t.prototype.computeColRanges=function(e,t,r){for(var n=[],o=e;o<=t;o++){var i=this.computeCol(o,r);n.push({firstCol:i,lastCol:i,isStart:o===e,isEnd:o===t})}return n}}(Hr);var Nr=function(e){for(var t={},r=[],n=0;n<e.length;n++){var o=e[n].id;r.push(o),t[o]=n}this.ids=r,this.indicesById=t,this.length=e.length};function Tr(e,t,r,n,o,i){var s=function(e,t,r,n){var o=function(e,t){var r={};for(var n in e){var o=e[n];r[n]={resource:o,resourceFields:Or(o),children:[]}}for(var n in e)if((o=e[n]).parentId){var i=r[o.parentId];i&&Br(r[n],i.children,t)}return r}(e,n),i=[];for(var s in o){var a=o[s];a.resource.parentId||Lr(a,i,r,0,t,n)}return i}(e,n?-1:1,t,r),a=[];return Ur(s,a,n,[],0,o,i),a}function Ur(e,t,r,n,o,i,s){for(var a=0;a<e.length;a++){var l=e[a],c=l.group;if(c)if(r){var u=t.length,d=n.length;if(Ur(l.children,t,r,n.concat(0),o,i,s),u<t.length){var h=t[u];(h.rowSpans=h.rowSpans.slice())[d]=t.length-u}}else{var p=null!=i[f=c.spec.field+":"+c.value]?i[f]:s;t.push({id:f,group:c,isExpanded:p}),p&&Ur(l.children,t,r,n,o+1,i,s)}else if(l.resource){var f;p=null!=i[f=l.resource.id]?i[f]:s,t.push({id:f,rowSpans:n,depth:o,isExpanded:p,hasChildren:Boolean(l.children.length),resource:l.resource,resourceFields:l.resourceFields}),p&&Ur(l.children,t,r,n,o+1,i,s)}}}function Lr(e,t,r,n,o,i){if(r.length&&(-1===o||n<=o)){var s=function(e,t,r){var n,o,i=e.resourceFields[r.field];if(r.order){for(o=0;o<t.length;o++)if((a=t[o]).group){var s=$e(i,a.group.value)*r.order;if(0===s){n=a;break}if(s<0)break}}else for(o=0;o<t.length;o++){var a;if((a=t[o]).group&&i===a.group.value){n=a;break}}return n||(n={group:{value:i,spec:r},children:[]},t.splice(o,0,n)),n}(e,t,r[0]);Lr(e,s.children,r.slice(1),n+1,o,i)}else Br(e,t,i)}function Br(e,t,r){var n;for(n=0;n<t.length&&!(Qe(t[n].resourceFields,e.resourceFields,r)>0);n++);t.splice(n,0,e)}function Or(e){var t=y(y(y({},e.extendedProps),e.ui),e);return delete t.ui,delete t.extendedProps,t}!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}s(t,e),t.prototype.getKeyInfo=function(e){var t=e.resourceDayTableModel,r=M(t.resourceIndex.indicesById,(function(e){return t.resources[e]}));return r[""]={},r},t.prototype.getKeysForDateSpan=function(e){return[e.resourceId||""]},t.prototype.getKeysForEventDef=function(e){var t=e.resourceIds;return t.length?t:[""]}}(Oe);var Ar=e({deps:[st],reducers:[function(e,t,r){var n=function(e,t,r){var n=r.options,o=r.dateProfile;if(!e||!t)return fr(n.initialResources||n.resources,o.activeRange,n.refetchResourcesOnNavigate,r);switch(t.type){case"RESET_RESOURCE_SOURCE":return fr(t.resourceSourceInput,o.activeRange,n.refetchResourcesOnNavigate,r);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return function(e,t,r,n){return!r||function(e){return Boolean(hr(e.sourceDefId).ignoreRange)}(e)||e.fetchRange&&Ke(e.fetchRange,t)?e:gr(e,t,n)}(e,o.activeRange,n.refetchResourcesOnNavigate,r);case"RECEIVE_RESOURCES":case"RECEIVE_RESOURCE_ERROR":return function(e,t,r){return t===e.latestFetchId?y(y({},e),{isFetching:!1,fetchRange:r}):e}(e,t.fetchId,t.fetchRange);case"REFETCH_RESOURCES":return gr(e,o.activeRange,r);default:return e}}(e&&e.resourceSource,t,r),o=function(e,t,r,n){if(!e||!t)return{};switch(t.type){case"RECEIVE_RESOURCES":return function(e,t,r,n,o){if(n.latestFetchId===r){for(var i={},s=0,a=t;s<a.length;s++)yr(a[s],"",i,o);return i}return e}(e,t.rawResources,t.fetchId,r,n);case"ADD_RESOURCE":return o=e,i=t.resourceHash,y(y({},o),i);case"REMOVE_RESOURCE":return function(e,t){var r=y({},e);for(var n in delete r[t],r)r[n].parentId===t&&(r[n]=y(y({},r[n]),{parentId:""}));return r}(e,t.resourceId);case"SET_RESOURCE_PROP":return function(e,t,r,n){var o,i,s=e[t];return s?y(y({},e),((o={})[t]=y(y({},s),((i={})[r]=n,i)),o)):e}(e,t.resourceId,t.propName,t.propValue);case"SET_RESOURCE_EXTENDED_PROP":return function(e,t,r,n){var o,i,s=e[t];return s?y(y({},e),((o={})[t]=y(y({},s),{extendedProps:y(y({},s.extendedProps),(i={},i[r]=n,i))}),o)):e}(e,t.resourceId,t.propName,t.propValue);default:return e}var o,i}(e&&e.resourceStore,t,n,r),i=function(e,t){var r;return e&&t?"SET_RESOURCE_ENTITY_EXPANDED"===t.type?y(y({},e),((r={})[t.id]=t.isExpanded,r)):e:{}}(e&&e.resourceEntityExpansions,t);return{resourceSource:n,resourceStore:o,resourceEntityExpansions:i,loadingLevel:r.loadingLevel+(n&&n.isFetching?1:0)}}],eventRefiners:Rr,eventDefMemberAdders:[function(e){return{resourceIds:(t=e.resourceIds,(t||[]).map((function(e){return String(e)}))).concat(e.resourceId?[e.resourceId]:[]),resourceEditable:e.resourceEditable};var t}],isDraggableTransformers:[function(e,t,r,n){if(!e){var o=n.getCurrentData();if(o.viewSpecs[o.currentViewType].optionDefaults.needsResourceData&&or(t,n))return!0}return e}],eventDragMutationMassagers:[function(e,t,r){var n=t.dateSpan.resourceId,o=r.dateSpan.resourceId;n&&o&&n!==o&&(e.resourceMutation={matchResourceId:n,setResourceId:o})}],eventDefMutationAppliers:[function(e,t,r){var n=t.resourceMutation;if(n&&or(e,r)){var o=e.resourceIds.indexOf(n.matchResourceId);if(-1!==o){var i=e.resourceIds.slice();i.splice(o,1),-1===i.indexOf(n.setResourceId)&&i.push(n.setResourceId),e.resourceIds=i}}}],dateSelectionTransformers:[function(e,t){var r=e.dateSpan.resourceId,n=t.dateSpan.resourceId;if(r&&n)return(!1!==e.component.allowAcrossResources||r===n)&&{resourceId:r}}],datePointTransforms:[function(e,t){return e.resourceId?{resource:t.calendarApi.getResourceById(e.resourceId)}:{}}],dateSpanTransforms:[function(e,t){return e.resourceId?{resource:t.calendarApi.getResourceById(e.resourceId)}:{}}],viewPropsTransformers:[ir,ar],isPropsValid:function(e,t){var r=(new wr).splitProps(y(y({},e),{resourceStore:t.getCurrentData().resourceStore}));for(var n in r){var o=r[n];if(n&&r[""]&&(o=y(y({},o),{eventStore:je(r[""].eventStore,o.eventStore),eventUiBases:y(y({},r[""].eventUiBases),o.eventUiBases)})),!Ve(o,t,{resourceId:n},br.bind(null,n)))return!1}return!0},externalDefTransforms:[function(e){return e.resourceId?{resourceId:e.resourceId}:{}}],eventResizeJoinTransforms:[function(e,t){if(!1===e.component.allowAcrossResources&&e.dateSpan.resourceId!==t.dateSpan.resourceId)return!1}],eventDropTransformers:[function(e,t){var r=e.resourceMutation;if(r){var n=t.calendarApi;return{oldResource:n.getResourceById(r.matchResourceId),newResource:n.getResourceById(r.setResourceId)}}return{oldResource:null,newResource:null}}],optionChangeHandlers:{resources:function(e,t){t.getCurrentData().resourceSource._raw!==e&&t.dispatch({type:"RESET_RESOURCE_SOURCE",resourceSourceInput:e})}},optionRefiners:xr,listenerRefiners:kr,propSetHandlers:{resourceStore:function(e,t){var r=t.emitter;r.hasHandlers("resourcesSet")&&r.trigger("resourcesSet",function(e,t){var r=[];for(var n in e)r.push(new Cr(t,e[n]));return r}(e,t))}}});function _r(e){for(var r=e.depth,n=e.hasChildren,o=e.isExpanded,i=e.onExpanderClick,s=[],a=0;a<r;a++)s.push(t("span",{className:"fc-icon"}));var l=["fc-icon"];return n&&(o?l.push("fc-icon-minus-square"):l.push("fc-icon-plus-square")),s.push(t("span",{className:"fc-datagrid-expander"+(n?"":" fc-datagrid-expander-placeholder"),onClick:i},t("span",{className:l.join(" ")}))),t.apply(void 0,C([R,{}],s))}var zr=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.refineHookProps=q(Fr),t.normalizeClassNames=F(),t.onExpanderClick=function(e){var r=t.props;r.hasChildren&&t.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:r.resource.id,isExpanded:!r.isExpanded})},t}return s(r,e),r.prototype.render=function(){var e=this,r=this.props,n=this.context,o=r.colSpec,i=this.refineHookProps({resource:r.resource,fieldValue:r.fieldValue,context:n}),s=this.normalizeClassNames(o.cellClassNames,i);return t(Z,{hookProps:i,didMount:o.cellDidMount,willUnmount:o.cellWillUnmount},(function(n){return t("td",{className:["fc-datagrid-cell","fc-resource"].concat(s).join(" "),"data-resource-id":r.resource.id,ref:n},t("div",{className:"fc-datagrid-cell-frame",style:{height:r.innerHeight}},t("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},o.isMain&&t(_r,{depth:r.depth,hasChildren:r.hasChildren,isExpanded:r.isExpanded,onExpanderClick:e.onExpanderClick}),t(Gr,{hookProps:i,colSpec:o}))))}))},r}(f),Gr=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return s(r,e),r.prototype.render=function(){var e=this.props;return t(K,{hookProps:e.hookProps,content:e.colSpec.cellContent,defaultContent:qr},(function(e,r){return t("span",{className:"fc-datagrid-cell-main",ref:e},r)}))},r}(f);function qr(e){return e.fieldValue||t(R,null,"")}function Fr(e){return{resource:new Cr(e.context,e.resource),fieldValue:e.fieldValue,view:e.context.viewApi}}var jr=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return s(r,e),r.prototype.render=function(){var e=this.props,r=this.context,n=e.colSpec,o={groupValue:e.fieldValue,view:r.viewApi};return t(te,{hookProps:o,classNames:n.cellClassNames,content:n.cellContent,defaultContent:Vr,didMount:n.cellDidMount,willUnmount:n.cellWillUnmount},(function(r,n,o,i){return t("td",{className:["fc-datagrid-cell","fc-resource-group"].concat(n).join(" "),rowSpan:e.rowSpan,ref:r},t("div",{className:"fc-datagrid-cell-frame fc-datagrid-cell-frame-liquid"}," ",t("div",{className:"fc-datagrid-cell-cushion fc-sticky",ref:o},i)))}))},r}(f);function Vr(e){return e.groupValue||t(R,null,"")}var Xr=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return s(r,e),r.prototype.render=function(){var e=this.props,r=e.resource,n=e.rowSpans,o=e.depth,i=Or(r);return t("tr",null,e.colSpecs.map((function(s,a){var l=n[a];if(0!==l){null==l&&(l=1);var c=s.field?i[s.field]:r.title||Sr(r.id);return l>1?t(jr,{key:a,colSpec:s,fieldValue:c,rowSpan:l}):t(zr,{key:a,colSpec:s,resource:r,fieldValue:c,depth:o,hasChildren:e.hasChildren,isExpanded:e.isExpanded,innerHeight:e.innerHeight})}})))},r}(f);Xr.addPropsEquality({rowSpans:a});var Yr=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.innerInnerRef=c(),t.onExpanderClick=function(){var e=t.props;t.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:e.id,isExpanded:!e.isExpanded})},t}return s(r,e),r.prototype.render=function(){var e=this,r=this.props,n=this.context,o={groupValue:r.group.value,view:n.viewApi},i=r.group.spec;return t("tr",null,t(te,{hookProps:o,classNames:i.labelClassNames,content:i.labelContent,defaultContent:Zr,didMount:i.labelDidMount,willUnmount:i.labelWillUnmount},(function(o,i,s,a){return t("td",{className:["fc-datagrid-cell","fc-resource-group",n.theme.getClass("tableCellShaded")].concat(i).join(" "),colSpan:r.spreadsheetColCnt,ref:o},t("div",{className:"fc-datagrid-cell-frame",style:{height:r.innerHeight}},t("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner",ref:e.innerInnerRef},t(_r,{depth:0,hasChildren:!0,isExpanded:r.isExpanded,onExpanderClick:e.onExpanderClick}),t("span",{className:"fc-datagrid-cell-main",ref:s},a))))})))},r}(f);function Zr(e){return e.groupValue||t(R,null,"")}Yr.addPropsEquality({group:function(e,t){return e.spec===t.spec&&e.value===t.value}});var Kr=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.resizerElRefs=new v(t._handleColResizerEl.bind(t)),t.colDraggings={},t}return s(r,e),r.prototype.render=function(){var e=this,r=this.props,n=r.colSpecs,o=r.superHeaderRendering,i=r.rowInnerHeights,s={view:this.context.viewApi},a=[];if(i=i.slice(),o){var l=i.shift();a.push(t("tr",{key:"row-super"},t(te,{hookProps:s,classNames:o.headerClassNames,content:o.headerContent,didMount:o.headerDidMount,willUnmount:o.headerWillUnmount},(function(e,r,o,i){return t("th",{colSpan:n.length,className:["fc-datagrid-cell","fc-datagrid-cell-super"].concat(r).join(" "),ref:e},t("div",{className:"fc-datagrid-cell-frame",style:{height:l}},t("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner",ref:o},i)))}))))}var c=i.shift();return a.push(t("tr",{key:"row"},n.map((function(r,o){var i=o===n.length-1;return t(te,{key:o,hookProps:s,classNames:r.headerClassNames,content:r.headerContent,didMount:r.headerDidMount,willUnmount:r.headerWillUnmount},(function(n,s,a,l){return t("th",{ref:n,className:["fc-datagrid-cell"].concat(s).join(" ")},t("div",{className:"fc-datagrid-cell-frame",style:{height:c}},t("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},r.isMain&&t("span",{className:"fc-datagrid-expander fc-datagrid-expander-placeholder"},t("span",{className:"fc-icon"})),t("span",{className:"fc-datagrid-cell-main",ref:a},l)),!i&&t("div",{className:"fc-datagrid-cell-resizer",ref:e.resizerElRefs.createRef(o)})))}))})))),t(R,null,a)},r.prototype._handleColResizerEl=function(e,t){var r,n=this.colDraggings;e?(r=this.initColResizing(e,parseInt(t,10)))&&(n[t]=r):(r=n[t])&&(r.destroy(),delete n[t])},r.prototype.initColResizing=function(e,t){var r=this.context,n=r.pluginHooks,o=r.isRtl,i=this.props.onColWidthChange,s=n.elementDraggingImpl;if(s){var a,l,c=new s(e);return c.emitter.on("dragstart",(function(){var r=k(rt(e,"tr"),"th");l=r.map((function(e){return rt(e,"th").getBoundingClientRect().width})),a=l[t]})),c.emitter.on("dragmove",(function(e){l[t]=Math.max(a+e.deltaX*(o?-1:1),20),i&&i(l.slice())})),c.setAutoScrollEnabled(!1),c}},r}(f),Jr=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.refineHookProps=q(Qr),t.normalizeClassNames=F(),t.handleHeightChange=function(e,r){t.props.onHeightChange&&t.props.onHeightChange(rt(e,"tr"),r)},t}return s(r,e),r.prototype.render=function(){var e=this,r=this.props,n=this.context,o=n.options,i=this.refineHookProps({resource:r.resource,context:n}),s=this.normalizeClassNames(o.resourceLaneClassNames,i);return t("tr",{ref:r.elRef},t(Z,{hookProps:i,didMount:o.resourceLaneDidMount,willUnmount:o.resourceLaneWillUnmount},(function(n){return t("td",{ref:n,className:["fc-timeline-lane","fc-resource"].concat(s).join(" "),"data-resource-id":r.resource.id},t("div",{className:"fc-timeline-lane-frame",style:{height:r.innerHeight}},t($r,{resource:r.resource}),t(er,{dateProfile:r.dateProfile,tDateProfile:r.tDateProfile,nowDate:r.nowDate,todayRange:r.todayRange,nextDayThreshold:r.nextDayThreshold,businessHours:r.businessHours,eventStore:r.eventStore,eventUiBases:r.eventUiBases,dateSelection:r.dateSelection,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,timelineCoords:r.timelineCoords,onHeightChange:e.handleHeightChange})))})))},r}(f),$r=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return s(r,e),r.prototype.render=function(){var e=this.props,r=this.context,n={resource:new Cr(r,e.resource)};return t(K,{hookProps:n,content:r.options.resourceLaneContent},(function(e,r){return r&&t("div",{className:"fc-timeline-lane-misc",ref:e},r)}))},r}(f);function Qr(e){return{resource:new Cr(e.context,e.resource)}}var en=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return s(r,e),r.prototype.render=function(){var e=this,r=this.props,n=this.props.renderingHooks,o={groupValue:r.groupValue,view:this.context.viewApi};return t("tr",{ref:r.elRef},t(te,{hookProps:o,classNames:n.laneClassNames,content:n.laneContent,didMount:n.laneDidMount,willUnmount:n.laneWillUnmount},(function(n,o,i,s){return t("td",{className:["fc-timeline-lane","fc-resource-group",e.context.theme.getClass("tableCellShaded")].concat(o).join(" "),ref:n},t("div",{style:{height:r.innerHeight},ref:i},s))})))},r}(f),tn=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=c(),t.rowElRefs=new v,t}return s(r,e),r.prototype.render=function(){var e=this.props,r=this.context;return t("table",{ref:this.rootElRef,className:"fc-scrollgrid-sync-table "+r.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},t(rn,{rowElRefs:this.rowElRefs,rowNodes:e.rowNodes,dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange,splitProps:e.splitProps,fallbackBusinessHours:e.fallbackBusinessHours,slatCoords:e.slatCoords,innerHeights:e.innerHeights,onRowHeightChange:e.onRowHeightChange}))},r.prototype.componentDidMount=function(){this.updateCoords()},r.prototype.componentDidUpdate=function(){this.updateCoords()},r.prototype.componentWillUnmount=function(){this.props.onRowCoords&&this.props.onRowCoords(null)},r.prototype.updateCoords=function(){var e,t=this.props;t.onRowCoords&&null!==t.clientWidth&&this.props.onRowCoords(new xe(this.rootElRef.current,(e=this.rowElRefs.currentMap,t.rowNodes.map((function(t){return e[t.id]}))),!1,!0))},r}(f),rn=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return s(r,e),r.prototype.render=function(){var e=this.props,r=this.context,n=e.rowElRefs,o=e.innerHeights;return t("tbody",null,e.rowNodes.map((function(i,s){if(i.group)return t(en,{key:i.id,elRef:n.createRef(i.id),groupValue:i.group.value,renderingHooks:i.group.spec,innerHeight:o[s]||""});if(i.resource){var a=i.resource;return t(Jr,y({key:i.id,elRef:n.createRef(i.id)},e.splitProps[a.id],{resource:a,dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange,nextDayThreshold:r.options.nextDayThreshold,businessHours:a.businessHours||e.fallbackBusinessHours,innerHeight:o[s]||"",timelineCoords:e.slatCoords,onHeightChange:e.onRowHeightChange}))}})))},r}(f),nn=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.computeHasResourceBusinessHours=de(on),t.resourceSplitter=new wr,t.bgSlicer=new Zt,t.slatsRef=c(),t.state={slatCoords:null},t.handleEl=function(e){e?t.context.registerInteractiveComponent(t,{el:e}):t.context.unregisterInteractiveComponent(t)},t.handleSlatCoords=function(e){t.setState({slatCoords:e}),t.props.onSlatCoords&&t.props.onSlatCoords(e)},t.handleRowCoords=function(e){t.rowCoords=e,t.props.onRowCoords&&t.props.onRowCoords(e)},t}return s(r,e),r.prototype.render=function(){var e=this,r=this,n=r.props,o=r.state,i=r.context,s=n.dateProfile,a=n.tDateProfile,l=J(a.slotDuration).unit,c=this.computeHasResourceBusinessHours(n.rowNodes),u=this.resourceSplitter.splitProps(n),d=u[""],h=this.bgSlicer.sliceProps(d,s,a.isTimeScale?null:n.nextDayThreshold,i,s,i.dateProfileGenerator,a,i.dateEnv);return t("div",{ref:this.handleEl,className:"fc-timeline-body",style:{minWidth:n.tableMinWidth}},t($,{unit:l},(function(r,l){return t(R,null,t(Vt,{ref:e.slatsRef,dateProfile:s,tDateProfile:a,nowDate:r,todayRange:l,clientWidth:n.clientWidth,tableColGroupNode:n.tableColGroupNode,tableMinWidth:n.tableMinWidth,onCoords:e.handleSlatCoords,onScrollLeftRequest:n.onScrollLeftRequest}),t(Yt,{businessHourSegs:c?null:h.businessHourSegs,bgEventSegs:h.bgEventSegs,timelineCoords:o.slatCoords,eventResizeSegs:h.eventResize?h.eventResize.segs:[],dateSelectionSegs:h.dateSelectionSegs,nowDate:r,todayRange:l}),t(tn,{rowNodes:n.rowNodes,dateProfile:s,tDateProfile:n.tDateProfile,nowDate:r,todayRange:l,splitProps:u,fallbackBusinessHours:c?n.businessHours:null,clientWidth:n.clientWidth,minHeight:n.expandRows?n.clientHeight:"",tableMinWidth:n.tableMinWidth,innerHeights:n.rowInnerHeights,slatCoords:o.slatCoords,onRowCoords:e.handleRowCoords,onRowHeightChange:n.onRowHeightChange}),i.options.nowIndicator&&o.slatCoords&&o.slatCoords.isDateInRange(r)&&t(Q,{isAxis:!1,date:r},(function(e,n,i,s){return t("div",{ref:e,className:["fc-timeline-now-indicator-line"].concat(n).join(" "),style:{left:o.slatCoords.dateToCoord(r)}},s)})))})))},r.prototype.queryHit=function(e,t){var r=this.rowCoords,n=r.topToIndex(t);if(null!=n){var o=this.props.rowNodes[n].resource;if(o){var i=this.slatsRef.current.positionToHit(e);if(i)return{component:this,dateSpan:{range:i.dateSpan.range,allDay:i.dateSpan.allDay,resourceId:o.id},rect:{left:i.left,right:i.right,top:r.tops[n],bottom:r.bottoms[n]},dayEl:i.dayEl,layer:0}}}},r}(he);function on(e){for(var t=0,r=e;t<r.length;t++){var n=r[t].resource;if(n&&n.businessHours)return!0}return!1}var sn=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollGridRef=c(),t.timeBodyScrollerElRef=c(),t.spreadsheetHeaderChunkElRef=c(),t.rootElRef=c(),t.state={resourceAreaWidthOverride:null},t}return s(r,e),r.prototype.render=function(){var e=this,r=e.props,n=e.state,o=e.context,i=o.options,s=!r.forPrint&&pe(i),a=!r.forPrint&&fe(i),l=[{type:"header",key:"header",syncRowHeights:!0,isSticky:s,chunks:[{key:"datagrid",elRef:this.spreadsheetHeaderChunkElRef,tableClassName:"fc-datagrid-header",rowContent:r.spreadsheetHeaderRows},{key:"divider",outerContent:t("td",{className:"fc-resource-timeline-divider "+o.theme.getClass("tableCellShaded")})},{key:"timeline",content:r.timeHeaderContent}]},{type:"body",key:"body",syncRowHeights:!0,liquid:!0,expandRows:Boolean(i.expandRows),chunks:[{key:"datagrid",tableClassName:"fc-datagrid-body",rowContent:r.spreadsheetBodyRows},{key:"divider",outerContent:t("td",{className:"fc-resource-timeline-divider "+o.theme.getClass("tableCellShaded")})},{key:"timeline",scrollerElRef:this.timeBodyScrollerElRef,content:r.timeBodyContent}]}];a&&l.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"datagrid",content:Se},{key:"divider",outerContent:t("td",{className:"fc-resource-timeline-divider "+o.theme.getClass("tableCellShaded")})},{key:"timeline",content:Se}]});var c=null!=n.resourceAreaWidthOverride?n.resourceAreaWidthOverride:i.resourceAreaWidth;return t(yt,{ref:this.scrollGridRef,elRef:this.rootElRef,liquid:!r.isHeightAuto&&!r.forPrint,colGroups:[{cols:r.spreadsheetCols,width:c},{cols:[]},{cols:r.timeCols}],sections:l})},r.prototype.forceTimeScroll=function(e){this.scrollGridRef.current.forceScrollLeft(2,e)},r.prototype.forceResourceScroll=function(e){this.scrollGridRef.current.forceScrollTop(1,e)},r.prototype.getResourceScroll=function(){return this.timeBodyScrollerElRef.current.scrollTop},r.prototype.componentDidMount=function(){this.initSpreadsheetResizing()},r.prototype.componentWillUnmount=function(){this.destroySpreadsheetResizing()},r.prototype.initSpreadsheetResizing=function(){var e=this,t=this.context,r=t.isRtl,n=t.pluginHooks.elementDraggingImpl,o=this.spreadsheetHeaderChunkElRef.current;if(n){var i,s,a=this.rootElRef.current,l=this.spreadsheetResizerDragging=new n(a,".fc-resource-timeline-divider");l.emitter.on("dragstart",(function(){i=o.getBoundingClientRect().width,s=a.getBoundingClientRect().width})),l.emitter.on("dragmove",(function(t){var n=i+t.deltaX*(r?-1:1);n=Math.max(n,30),n=Math.min(n,s-30),e.setState({resourceAreaWidthOverride:n})})),l.setAutoScrollEnabled(!1)}},r.prototype.destroySpreadsheetResizing=function(){this.spreadsheetResizerDragging&&this.spreadsheetResizerDragging.destroy()},r}(f),an=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n.processColOptions=de(dn),n.buildTimelineDateProfile=de(Wt),n.hasNesting=de(un),n.buildRowNodes=de(Tr),n.layoutRef=c(),n.rowNodes=[],n.renderedRowNodes=[],n.buildRowIndex=de(ln),n.handleSlatCoords=function(e){n.setState({slatCoords:e})},n.handleRowCoords=function(e){n.rowCoords=e,n.scrollResponder.update(!1)},n.handleMaxCushionWidth=function(e){n.setState({slotCushionMaxWidth:Math.ceil(e)})},n.handleScrollLeftRequest=function(e){n.layoutRef.current.forceTimeScroll(e)},n.handleScrollRequest=function(e){var t=n.rowCoords,r=n.layoutRef.current,o=e.rowId||e.resourceId;if(t){if(o){var i=n.buildRowIndex(n.renderedRowNodes)[o];if(null!=i){var s=null!=e.fromBottom?t.bottoms[i]-e.fromBottom:t.tops[i];r.forceResourceScroll(s)}}return!0}},n.handleColWidthChange=function(e){n.setState({spreadsheetColWidths:e})},n.state={resourceAreaWidth:r.options.resourceAreaWidth,spreadsheetColWidths:[]},n}return s(r,e),r.prototype.render=function(){var e=this,r=this,n=r.props,o=r.state,i=r.context,s=i.options,a=i.viewSpec,l=this.processColOptions(i.options),c=l.superHeaderRendering,u=l.groupSpecs,d=l.orderSpecs,h=l.isVGrouping,p=l.colSpecs,f=this.buildTimelineDateProfile(n.dateProfile,i.dateEnv,s,i.dateProfileGenerator),g=this.rowNodes=this.buildRowNodes(n.resourceStore,u,d,h,n.resourceEntityExpansions,s.resourcesInitiallyExpanded),v=["fc-resource-timeline",this.hasNesting(g)?"":"fc-resource-timeline-flat","fc-timeline",!1===s.eventOverlap?"fc-timeline-overlap-disabled":"fc-timeline-overlap-enabled"],m=s.slotMinWidth,y=rr(f,m||this.computeFallbackSlotMinWidth(f));return t(ge,{viewSpec:a},(function(r,s){return t("div",{ref:r,className:v.concat(s).join(" ")},t(sn,{ref:e.layoutRef,forPrint:n.forPrint,isHeightAuto:n.isHeightAuto,spreadsheetCols:cn(p,o.spreadsheetColWidths,""),spreadsheetHeaderRows:function(r){return t(Kr,{superHeaderRendering:c,colSpecs:p,onColWidthChange:e.handleColWidthChange,rowInnerHeights:r.rowSyncHeights})},spreadsheetBodyRows:function(r){return t(R,null,e.renderSpreadsheetRows(g,p,r.rowSyncHeights))},timeCols:y,timeHeaderContent:function(r){return t(Gt,{clientWidth:r.clientWidth,clientHeight:r.clientHeight,tableMinWidth:r.tableMinWidth,tableColGroupNode:r.tableColGroupNode,dateProfile:n.dateProfile,tDateProfile:f,slatCoords:o.slatCoords,rowInnerHeights:r.rowSyncHeights,onMaxCushionWidth:m?null:e.handleMaxCushionWidth})},timeBodyContent:function(r){return t(nn,{dateProfile:n.dateProfile,clientWidth:r.clientWidth,clientHeight:r.clientHeight,tableMinWidth:r.tableMinWidth,tableColGroupNode:r.tableColGroupNode,expandRows:r.expandRows,tDateProfile:f,rowNodes:g,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,resourceStore:n.resourceStore,nextDayThreshold:i.options.nextDayThreshold,rowInnerHeights:r.rowSyncHeights,onSlatCoords:e.handleSlatCoords,onRowCoords:e.handleRowCoords,onScrollLeftRequest:e.handleScrollLeftRequest,onRowHeightChange:r.reportRowHeightChange})}}))}))},r.prototype.renderSpreadsheetRows=function(e,r,n){return e.map((function(e,o){return e.group?t(Yr,{key:e.id,id:e.id,spreadsheetColCnt:r.length,isExpanded:e.isExpanded,group:e.group,innerHeight:n[o]||""}):e.resource?t(Xr,{key:e.id,colSpecs:r,rowSpans:e.rowSpans,depth:e.depth,isExpanded:e.isExpanded,hasChildren:e.hasChildren,resource:e.resource,innerHeight:n[o]||""}):void 0}))},r.prototype.componentDidMount=function(){this.renderedRowNodes=this.rowNodes,this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},r.prototype.getSnapshotBeforeUpdate=function(){return this.props.forPrint?{}:{resourceScroll:this.queryResourceScroll()}},r.prototype.componentDidUpdate=function(e,t,r){this.renderedRowNodes=this.rowNodes,this.scrollResponder.update(e.dateProfile!==this.props.dateProfile),r.resourceScroll&&this.handleScrollRequest(r.resourceScroll)},r.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},r.prototype.computeFallbackSlotMinWidth=function(e){return Math.max(30,(this.state.slotCushionMaxWidth||0)/e.slotsPerLabel)},r.prototype.queryResourceScroll=function(){var e=this.rowCoords,t=this.renderedRowNodes;if(e){for(var r=this.layoutRef.current,n=e.bottoms,o=r.getResourceScroll(),i={},s=0;s<n.length;s++){var a=t[s],l=n[s]-o;if(l>0){i.rowId=a.id,i.fromBottom=l;break}}return i}},r}(f);function ln(e){for(var t={},r=0;r<e.length;r++)t[e[r].id]=r;return t}function cn(e,t,r){return void 0===r&&(r=""),e.map((function(e,n){return{className:e.isMain?"fc-main-col":"",width:t[n]||e.width||r}}))}function un(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];if(n.group)return!0;if(n.resource&&n.hasChildren)return!0}return!1}function dn(e){var t=e.resourceAreaColumns||[],r=null;t.length?e.resourceAreaHeaderContent&&(r={headerClassNames:e.resourceAreaHeaderClassNames,headerContent:e.resourceAreaHeaderContent,headerDidMount:e.resourceAreaHeaderDidMount,headerWillUnmount:e.resourceAreaHeaderWillUnmount}):t.push({headerClassNames:e.resourceAreaHeaderClassNames,headerContent:e.resourceAreaHeaderContent||"Resources",headerDidMount:e.resourceAreaHeaderDidMount,headerWillUnmount:e.resourceAreaHeaderWillUnmount});for(var n=[],o=[],i=[],s=!1,a=0,l=t;a<l.length;a++){var c=l[a];c.group?o.push(y(y({},c),{cellClassNames:c.cellClassNames||e.resourceGroupLabelClassNames,cellContent:c.cellContent||e.resourceGroupLabelContent,cellDidMount:c.cellDidMount||e.resourceGroupLabelDidMount,cellWillUnmount:c.cellWillUnmount||e.resourceGroupLaneWillUnmount})):n.push(c)}var u=n[0];if(u.isMain=!0,u.cellClassNames=u.cellClassNames||e.resourceLabelClassNames,u.cellContent=u.cellContent||e.resourceLabelContent,u.cellDidMount=u.cellDidMount||e.resourceLabelDidMount,u.cellWillUnmount=u.cellWillUnmount||e.resourceLabelWillUnmount,o.length)i=o,s=!0;else{var d=e.resourceGroupField;d&&i.push({field:d,labelClassNames:e.resourceGroupLabelClassNames,labelContent:e.resourceGroupLabelContent,labelDidMount:e.resourceGroupLabelDidMount,labelWillUnmount:e.resourceGroupLabelWillUnmount,laneClassNames:e.resourceGroupLaneClassNames,laneContent:e.resourceGroupLaneContent,laneDidMount:e.resourceGroupLaneDidMount,laneWillUnmount:e.resourceGroupLaneWillUnmount})}for(var h=[],p=0,f=e.resourceOrder||Dr;p<f.length;p++){for(var g=f[p],v=!1,m=0,S=i;m<S.length;m++){var R=S[m];if(R.field===g.field){R.order=g.order,v=!0;break}}v||h.push(g)}return{superHeaderRendering:r,isVGrouping:s,groupSpecs:i,colSpecs:o.concat(n),orderSpecs:h}}an.addStateEquality({spreadsheetColWidths:a});var hn=e({deps:[st,Ar,nr],initialView:"resourceTimelineDay",views:{resourceTimeline:{type:"timeline",component:an,needsResourceData:!0,resourceAreaWidth:"30%",resourcesInitiallyExpanded:!0,eventResizableFromStart:!0},resourceTimelineDay:{type:"resourceTimeline",duration:{days:1}},resourceTimelineWeek:{type:"resourceTimeline",duration:{weeks:1}},resourceTimelineMonth:{type:"resourceTimeline",duration:{months:1}},resourceTimelineYear:{type:"resourceTimeline",duration:{years:1}}}});export{hn as m};
