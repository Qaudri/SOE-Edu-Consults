import{_ as e,X as t,l as n,e as o,n as r,al as i,f as s,an as a,b1 as l,am as d,ar as c,ak as u,s as f,a2 as p,b2 as h,v as g,b3 as v,a9 as m,b4 as y,B as R,b5 as C,b6 as S,F as b,ai as w,R as E,ad as x,ab as k,ac as D,ae as M,x as P,ay as N,I as H,V as T,T as W,g as I,aj as L,a6 as z,ah as B,b7 as F,b8 as G,b9 as A,ba as O,aB as q,af as j,aD as U,bb as K,bc as V,aQ as Z,bd as _,aK as Q,aT as X,be as $,a7 as J,h as Y,bf as ee,aa as te,aZ as ne,bg as oe,au as re,aA as ie,ap as se,aq as ae,at as le,bh as de}from"./CalendarContent-e50ff6c3.js";var ce=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.headerElRef=r(),e}return e(n,t),n.prototype.renderSimpleLayout=function(e,t){var n=this.props,o=this.context,r=[],d=i(o.options);return e&&r.push({type:"header",key:"header",isSticky:d,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),r.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),s(a,{viewSpec:o.viewSpec},(function(e,t){return s("div",{ref:e,className:["fc-daygrid"].concat(t).join(" ")},s(l,{liquid:!n.isHeightAuto&&!n.forPrint,cols:[],sections:r}))}))},n.prototype.renderHScrollLayout=function(e,t,n,o){var r=this.context.pluginHooks.scrollGridImpl;if(!r)throw new Error("No ScrollGrid implementation");var l=this.props,u=this.context,f=!l.forPrint&&i(u.options),p=!l.forPrint&&d(u.options),h=[];return e&&h.push({type:"header",key:"header",isSticky:f,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),h.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),p&&h.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:c}]}),s(a,{viewSpec:u.viewSpec},(function(e,t){return s("div",{ref:e,className:["fc-daygrid"].concat(t).join(" ")},s(r,{liquid:!l.isHeightAuto&&!l.forPrint,colGroups:[{cols:[{span:n,minWidth:o}]}],sections:h}))}))},n}(u);function ue(e,t){for(var n=[],o=0;o<t;o++)n[o]=[];for(var r=0,i=e;r<i.length;r++){var s=i[r];n[s.row].push(s)}return n}function fe(e,t){for(var n=[],o=0;o<t;o++)n[o]=[];for(var r=0,i=e;r<i.length;r++){var s=i[r];n[s.firstCol].push(s)}return n}function pe(e,t){var n=[];if(e){for(s=0;s<t;s++)n[s]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(var o=0,r=e.segs;o<r.length;o++){var i=r[o];n[i.row].segs.push(i)}}else for(var s=0;s<t;s++)n[s]=null;return n}var he=t({week:"narrow"}),ge=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleRootEl=function(t){e.rootEl=t,f(e.props.elRef,t)},e.handleMoreLinkClick=function(t){var n=e.props;if(n.onMoreClick){var o=n.segsByEachCol,r=o.filter((function(e){return n.segIsHidden[e.eventRange.instance.instanceId]}));n.onMoreClick({date:n.date,allSegs:o,hiddenSegs:r,moreCnt:n.moreCnt,dayEl:e.rootEl,ev:t})}},e}return e(n,t),n.prototype.render=function(){var e=this,t=this.context,n=t.options,o=t.viewApi,r=this.props,i=r.date,a=r.dateProfile,l={num:r.moreCnt,text:r.buildMoreLinkText(r.moreCnt),view:o},d=n.navLinks?{"data-navlink":p(i,"week"),tabIndex:0}:{};return s(h,{date:i,dateProfile:a,todayRange:r.todayRange,showDayNumber:r.showDayNumber,extraHookProps:r.extraHookProps,elRef:this.handleRootEl},(function(t,o,c,u){return s("td",g({ref:t,className:["fc-daygrid-day"].concat(o,r.extraClassNames||[]).join(" ")},c,r.extraDataAttrs),s("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:r.innerElRef},r.showWeekNumber&&s(v,{date:i,defaultFormat:he},(function(e,t,n,o){return s("a",g({ref:e,className:["fc-daygrid-week-number"].concat(t).join(" ")},d),o)})),!u&&s(ye,{date:i,dateProfile:a,showDayNumber:r.showDayNumber,todayRange:r.todayRange,extraHookProps:r.extraHookProps}),s("div",{className:"fc-daygrid-day-events",ref:r.fgContentElRef,style:{paddingBottom:r.fgPaddingBottom}},r.fgContent,Boolean(r.moreCnt)&&s("div",{className:"fc-daygrid-day-bottom",style:{marginTop:r.moreMarginTop}},s(m,{hookProps:l,classNames:n.moreLinkClassNames,content:n.moreLinkContent,defaultContent:me,didMount:n.moreLinkDidMount,willUnmount:n.moreLinkWillUnmount},(function(t,n,o,r){return s("a",{onClick:e.handleMoreLinkClick,ref:t,className:["fc-daygrid-more-link"].concat(n).join(" ")},r)})))),s("div",{className:"fc-daygrid-day-bg"},r.bgContent)))}))},n}(u);function ve(e){return e.dayNumberText}function me(e){return e.text}var ye=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.render=function(){var e=this.props,t=this.context.options.navLinks?{"data-navlink":p(e.date),tabIndex:0}:{};return s(y,{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,showDayNumber:e.showDayNumber,extraHookProps:e.extraHookProps,defaultContent:ve},(function(e,n){return n&&s("div",{className:"fc-daygrid-day-top",ref:e},s("a",g({className:"fc-daygrid-day-number"},t),n))}))},n}(R),Re=t({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Ce(e){var t=e.eventRange.ui.display;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol}var Se=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.render=function(){var e=this.props,t=this.context,n=t.options.eventTimeFormat||Re,o=C(e.seg,n,t,!0,e.defaultDisplayEventEnd);return s(S,{seg:e.seg,timeText:o,defaultContent:be,isDragging:e.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:e.isSelected,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday},(function(t,n,o,r){return s("a",g({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(n).join(" "),ref:t},(i=e.seg.eventRange.def.url)?{href:i}:{}),r);var i}))},n}(R);function be(e){return s(b,null,s("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&s("div",{className:"fc-event-time"},e.timeText),s("div",{className:"fc-event-title"},e.event.title||s(b,null,"Â ")))}var we=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.render=function(){var e=this.props;return s(w,g({},e,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Re,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))},n}(R);function Ee(e,t){for(var n=[],o=0,r=e;o<r.length;o++){var i=r[o];i.seg.firstCol===t&&n.push(i.seg)}return n}function xe(e,t,n,o,r){for(var i=e.length,s={},a=[],l=0;l<i;l++)a.push([]);for(l=0;l<i;l++)for(var d=0,c=0,u=n[l];c<u.length;c++){var f=u[c];r(f,d)?p(f):h(f),f.top!==f.bottom&&d++}function p(e){var t=e.seg,n=t.eventRange.instance.instanceId;if(!s[n]){s[n]=!0;for(var o=t.firstCol;o<=t.lastCol;o++)a[o].push(e)}}function h(n){var r=n.seg,i=r.eventRange.instance.instanceId;if(!t[i]){t[i]=!0;for(var s=r.firstCol;s<=r.lastCol;s++){var l=++e[s];if(o&&1===l){var d=a[s].pop();d&&h(d)}}}}}var ke=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellElRefs=new E,e.frameElRefs=new E,e.fgElRefs=new E,e.segHarnessRefs=new E,e.rootElRef=r(),e.state={framePositions:null,maxContentHeight:null,segHeights:{}},e}return e(o,t),o.prototype.render=function(){var e=this,t=this,n=t.props,o=t.state,r=t.context,i=n.cells.length,a=fe(n.businessHourSegs,i),l=fe(n.bgEventSegs,i),d=fe(this.getHighlightSegs(),i),c=fe(this.getMirrorSegs(),i),u=function(e,t,n,o,r,i,s,a){for(var l=[],d=[],c={},u={},f={},p={},h={},v=0;v<s;v++)l.push([]),d.push(0);for(var m=0,y=t=q(t,a);m<y.length;m++)k(E=y[m],r[E.eventRange.instance.instanceId+":"+E.firstCol]||0);!0===n||!0===o?function(e,t,n,o){xe(e,t,n,!0,(function(e){return e.bottom<=o}))}(d,c,l,i):"number"==typeof n?function(e,t,n,o){xe(e,t,n,!1,(function(e,t){return t<o}))}(d,c,l,n):"number"==typeof o&&function(e,t,n,o){xe(e,t,n,!0,(function(e,t){return t<o}))}(d,c,l,o);for(var R=0;R<s;R++){for(var C=0,S=0,b=0,w=l[R];b<w.length;b++){var E,x=w[b];c[(E=x.seg).eventRange.instance.instanceId]||(u[E.eventRange.instance.instanceId]=x.top,E.firstCol===E.lastCol&&E.isStart&&E.isEnd?(f[E.eventRange.instance.instanceId]=x.top-C,S=0,C=x.bottom):S+=x.bottom-x.top)}S&&(d[R]?p[R]=S:h[R]=S)}function k(e,t){if(!D(e,t,0))for(var n=e.firstCol;n<=e.lastCol;n++)for(var o=0,r=l[n];o<r.length;o++)if(D(e,t,r[o].bottom))return}function D(e,t,n){if(function(e,t,n){for(var o=e.firstCol;o<=e.lastCol;o++)for(var r=0,i=l[o];r<i.length;r++){var s=i[r];if(n<s.bottom&&n+t>s.top)return!1}return!0}(e,t,n)){for(var o=e.firstCol;o<=e.lastCol;o++){for(var r=l[o],i=0;i<r.length&&n>=r[i].top;)i++;r.splice(i,0,{seg:e,top:n,bottom:n+t})}return!0}return!1}for(var M in r)r[M]||(c[M.split(":")[0]]=!0);var P=l.map(Ee),N=l.map((function(t,n){var o=function(e){for(var t=[],n=0,o=e;n<o.length;n++){var r=o[n];t.push(r.seg)}return t}(t);return o=function(e,t,n){for(var o={start:t,end:I(t,1)},r=[],i=0,s=e;i<s.length;i++){var a=s[i],l=a.eventRange,d=l.range,c=j(d,o);c&&r.push(g(g({},a),{firstCol:n,lastCol:n,eventRange:{def:l.def,ui:g(g({},l.ui),{durationEditable:!1}),instance:l.instance,range:c},isStart:a.isStart&&c.start.valueOf()===d.start.valueOf(),isEnd:a.isEnd&&c.end.valueOf()===d.end.valueOf()}))}return r}(o,e[n].date,n),o}));return{segsByFirstCol:P,segsByEachCol:N,segIsHidden:c,segTops:u,segMarginTops:f,moreCnts:d,moreTops:p,paddingBottoms:h}}(n.cells,n.fgEventSegs,n.dayMaxEvents,n.dayMaxEventRows,o.segHeights,o.maxContentHeight,i,r.options.eventOrder),f=u.paddingBottoms,p=u.segsByFirstCol,h=u.segsByEachCol,v=u.segIsHidden,m=u.segTops,y=u.segMarginTops,R=u.moreCnts,C=u.moreTops,S=n.eventDrag&&n.eventDrag.affectedInstances||n.eventResize&&n.eventResize.affectedInstances||{};return s("tr",{ref:this.rootElRef},n.renderIntro&&n.renderIntro(),n.cells.map((function(t,o){var r=e.renderFgSegs(p[o],v,m,y,S,n.todayRange),i=e.renderFgSegs(c[o],{},m,{},{},n.todayRange,Boolean(n.eventDrag),Boolean(n.eventResize),!1),u=n.showWeekNumbers&&0===o;return s(ge,{key:t.key,elRef:e.cellElRefs.createRef(t.key),innerElRef:e.frameElRefs.createRef(t.key),dateProfile:n.dateProfile,date:t.date,showDayNumber:n.showDayNumbers||u,showWeekNumber:u,todayRange:n.todayRange,extraHookProps:t.extraHookProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,moreCnt:R[o],buildMoreLinkText:n.buildMoreLinkText,onMoreClick:n.onMoreClick,segIsHidden:v,moreMarginTop:C[o],segsByEachCol:h[o],fgPaddingBottom:f[o],fgContentElRef:e.fgElRefs.createRef(t.key),fgContent:s(b,null,s(b,null,r),s(b,null,i)),bgContent:s(b,null,e.renderFillSegs(d[o],"highlight"),e.renderFillSegs(a[o],"non-business"),e.renderFillSegs(l[o],"bg-event"))})})))},o.prototype.componentDidMount=function(){this.updateSizing(!0)},o.prototype.componentDidUpdate=function(e,t){var o=this.props;this.updateSizing(!n(e,o))},o.prototype.getHighlightSegs=function(){var e=this.props;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs},o.prototype.getMirrorSegs=function(){var e=this.props;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]},o.prototype.renderFgSegs=function(e,t,n,o,r,i,a,l,d){var c=this.context,u=this.props.eventSelection,f=this.state.framePositions,p=1===this.props.cells.length,h=[];if(f)for(var v=0,m=e;v<m.length;v++){var y=m[v],R=y.eventRange.instance.instanceId,C=a||l||d,S=r[R],b=t[R]||S,w=t[R]||C||y.firstCol!==y.lastCol||!y.isStart||!y.isEnd,E=void 0,k=void 0,D=void 0,M=void 0;w?(k=n[R],c.isRtl?(M=0,D=f.lefts[y.lastCol]-f.lefts[y.firstCol]):(D=0,M=f.rights[y.firstCol]-f.rights[y.lastCol])):E=o[R],h.push(s("div",{className:"fc-daygrid-event-harness"+(w?" fc-daygrid-event-harness-abs":""),key:R,ref:C?null:this.segHarnessRefs.createRef(R+":"+y.firstCol),style:{visibility:b?"hidden":"",marginTop:E||"",top:k||"",left:D||"",right:M||""}},Ce(y)?s(Se,g({seg:y,isDragging:a,isSelected:R===u,defaultDisplayEventEnd:p},x(y,i))):s(we,g({seg:y,isDragging:a,isResizing:l,isDateSelecting:d,isSelected:R===u,defaultDisplayEventEnd:p},x(y,i)))))}return h},o.prototype.renderFillSegs=function(e,t){var n=this.context.isRtl,o=this.props.todayRange,r=this.state.framePositions,i=[];if(r)for(var a=0,l=e;a<l.length;a++){var d=l[a],c=n?{right:0,left:r.lefts[d.lastCol]-r.lefts[d.firstCol]}:{left:0,right:r.rights[d.firstCol]-r.rights[d.lastCol]};i.push(s("div",{key:k(d.eventRange),className:"fc-daygrid-bg-harness",style:c},"bg-event"===t?s(D,g({seg:d},x(d,o))):M(t)))}return s.apply(void 0,P([b,{}],i))},o.prototype.updateSizing=function(e){var t=this.props,n=this.frameElRefs;if(null!==t.clientWidth){if(e){var o=t.cells.map((function(e){return n.currentMap[e.key]}));if(o.length){var r=this.rootElRef.current;this.setState({framePositions:new N(r,o,!0,!1)})}}var i=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.setState({segHeights:this.computeSegHeights(),maxContentHeight:i?this.computeMaxContentHeight():null})}},o.prototype.computeSegHeights=function(){return H(this.segHarnessRefs.currentMap,(function(e){return e.getBoundingClientRect().height}))},o.prototype.computeMaxContentHeight=function(){var e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top},o.prototype.getCellEls=function(){var e=this.cellElRefs.currentMap;return this.props.cells.map((function(t){return e[t.key]}))},o}(u);ke.addStateEquality({segHeights:n});var De=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.repositioner=new T(e.updateSize.bind(e)),e.handleRootEl=function(t){e.rootEl=t,e.props.elRef&&f(e.props.elRef,t)},e.handleDocumentMousedown=function(t){var n=e.props.onClose;n&&!e.rootEl.contains(t.target)&&n()},e.handleDocumentScroll=function(){e.repositioner.request(10)},e.handleCloseClick=function(){var t=e.props.onClose;t&&t()},e}return e(n,t),n.prototype.render=function(){var e=this.context.theme,t=this.props,n=["fc-popover",e.getClass("popover")].concat(t.extraClassNames||[]);return s("div",g({className:n.join(" ")},t.extraAttrs,{ref:this.handleRootEl}),s("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},s("span",{className:"fc-popover-title"},t.title),s("span",{className:"fc-popover-close "+e.getIconClass("close"),onClick:this.handleCloseClick})),s("div",{className:"fc-popover-body "+e.getClass("popoverContent")},t.children))},n.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMousedown),document.addEventListener("scroll",this.handleDocumentScroll),this.updateSize()},n.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMousedown),document.removeEventListener("scroll",this.handleDocumentScroll)},n.prototype.updateSize=function(){var e=this.props,t=e.alignmentEl,n=e.topAlignmentEl,o=this.rootEl;if(o){var r,i=o.getBoundingClientRect(),s=t.getBoundingClientRect(),a=n?n.getBoundingClientRect().top:s.top;a=Math.min(a,window.innerHeight-i.height-10),a=Math.max(a,10),r=this.context.isRtl?s.right-i.width:s.left,r=Math.min(r,window.innerWidth-i.width-10),r=Math.max(r,10),W(o,{top:a,left:r})}},n}(R),Me=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.handlePopoverEl=function(t){e.popoverEl=t,t?e.context.registerInteractiveComponent(e,{el:t,useEventCenter:!1}):e.context.unregisterInteractiveComponent(e)},e}return e(n,t),n.prototype.render=function(){var e=this.context,t=e.options,n=e.dateEnv,o=this.props,r=o.date,i=o.hiddenInstances,a=o.todayRange,l=o.dateProfile,d=o.selectedInstanceId,c=n.format(r,t.dayPopoverFormat);return s(h,{date:r,dateProfile:l,todayRange:a,elRef:this.handlePopoverEl},(function(e,t,n){return s(De,{elRef:e,title:c,extraClassNames:["fc-more-popover"].concat(t),extraAttrs:n,onClose:o.onCloseClick,alignmentEl:o.alignmentEl,topAlignmentEl:o.topAlignmentEl},s(y,{date:r,dateProfile:l,todayRange:a},(function(e,t){return t&&s("div",{className:"fc-more-popover-misc",ref:e},t)})),o.segs.map((function(e){var t=e.eventRange.instance.instanceId;return s("div",{className:"fc-daygrid-event-harness",key:t,style:{visibility:i[t]?"hidden":""}},Ce(e)?s(Se,g({seg:e,isDragging:!1,isSelected:t===d,defaultDisplayEventEnd:!1},x(e,a))):s(we,g({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:t===d,defaultDisplayEventEnd:!1},x(e,a))))})))}))},n.prototype.queryHit=function(e,t,n,o){var r=this.props.date;if(e<n&&t<o)return{component:this,dateSpan:{allDay:!0,range:{start:r,end:I(r,1)}},dayEl:this.popoverEl,rect:{left:0,top:0,right:n,bottom:o},layer:1}},n.prototype.isPopover=function(){return!0},n}(u),Pe=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.splitBusinessHourSegs=L(ue),e.splitBgEventSegs=L(ue),e.splitFgEventSegs=L(ue),e.splitDateSelectionSegs=L(ue),e.splitEventDrag=L(pe),e.splitEventResize=L(pe),e.buildBuildMoreLinkText=L(Ne),e.rowRefs=new E,e.state={morePopoverState:null},e.handleRootEl=function(t){e.rootEl=t,f(e.props.elRef,t)},e.handleMoreLinkClick=function(t){var n=e.context,o=n.dateEnv,r=n.options.moreLinkClick;function i(e){var t=e.eventRange,r=t.def,i=t.instance,s=t.range;return{event:new U(n,r,i),start:o.toDate(s.start),end:o.toDate(s.end),isStart:e.isStart,isEnd:e.isEnd}}"function"==typeof r&&(r=r({date:o.toDate(t.date),allDay:!0,allSegs:t.allSegs.map(i),hiddenSegs:t.hiddenSegs.map(i),jsEvent:t.ev,view:n.viewApi})),r&&"popover"!==r?"string"==typeof r&&n.calendarApi.zoomTo(t.date,r):e.setState({morePopoverState:g(g({},t),{currentFgEventSegs:e.props.fgEventSegs})})},e.handleMorePopoverClose=function(){e.setState({morePopoverState:null})},e}return e(n,t),n.prototype.render=function(){var e=this,t=this.props,n=t.dateProfile,o=t.dayMaxEventRows,r=t.dayMaxEvents,i=t.expandRows,a=this.state.morePopoverState,l=t.cells.length,d=this.splitBusinessHourSegs(t.businessHourSegs,l),c=this.splitBgEventSegs(t.bgEventSegs,l),u=this.splitFgEventSegs(t.fgEventSegs,l),f=this.splitDateSelectionSegs(t.dateSelectionSegs,l),p=this.splitEventDrag(t.eventDrag,l),h=this.splitEventResize(t.eventResize,l),g=this.buildBuildMoreLinkText(this.context.options.moreLinkText),v=!0===r||!0===o;return v&&!i&&(v=!1,o=null,r=null),s("div",{className:["fc-daygrid-body",v?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"].join(" "),ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},s(z,{unit:"day"},(function(v,m){return s(b,null,s("table",{className:"fc-scrollgrid-sync-table",style:{width:t.clientWidth,minWidth:t.tableMinWidth,height:i?t.clientHeight:""}},t.colGroupNode,s("tbody",null,t.cells.map((function(i,a){return s(ke,{ref:e.rowRefs.createRef(a),key:i.length?i[0].date.toISOString():a,showDayNumbers:l>1,showWeekNumbers:t.showWeekNumbers,todayRange:m,dateProfile:n,cells:i,renderIntro:t.renderRowIntro,businessHourSegs:d[a],eventSelection:t.eventSelection,bgEventSegs:c[a].filter(He),fgEventSegs:u[a],dateSelectionSegs:f[a],eventDrag:p[a],eventResize:h[a],dayMaxEvents:r,dayMaxEventRows:o,clientWidth:t.clientWidth,clientHeight:t.clientHeight,buildMoreLinkText:g,onMoreClick:e.handleMoreLinkClick})})))),!t.forPrint&&a&&a.currentFgEventSegs===t.fgEventSegs&&s(Me,{date:a.date,dateProfile:n,segs:a.allSegs,alignmentEl:a.dayEl,topAlignmentEl:1===l?t.headerAlignElRef.current:null,onCloseClick:e.handleMorePopoverClose,selectedInstanceId:t.eventSelection,hiddenInstances:(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{},todayRange:m}))})))},n.prototype.prepareHits=function(){this.rowPositions=new N(this.rootEl,this.rowRefs.collect().map((function(e){return e.getCellEls()[0]})),!1,!0),this.colPositions=new N(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},n.prototype.positionToHit=function(e,t){var n=this.colPositions,o=this.rowPositions,r=n.leftToIndex(e),i=o.topToIndex(t);if(null!=i&&null!=r)return{row:i,col:r,dateSpan:{range:this.getCellRange(i,r),allDay:!0},dayEl:this.getCellEl(i,r),relativeRect:{left:n.lefts[r],right:n.rights[r],top:o.tops[i],bottom:o.bottoms[i]}}},n.prototype.getCellEl=function(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]},n.prototype.getCellRange=function(e,t){var n=this.props.cells[e][t].date;return{start:n,end:I(n,1)}},n}(u);function Ne(e){return"function"==typeof e?e:function(t){return"+"+t+" "+e}}function He(e){return e.eventRange.def.allDay}var Te=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.slicer=new We,e.tableRef=r(),e.handleRootEl=function(t){t?e.context.registerInteractiveComponent(e,{el:t}):e.context.unregisterInteractiveComponent(e)},e}return e(n,t),n.prototype.render=function(){var e=this.props,t=this.context;return s(Pe,g({ref:this.tableRef,elRef:this.handleRootEl},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))},n.prototype.prepareHits=function(){this.tableRef.current.prepareHits()},n.prototype.queryHit=function(e,t){var n=this.tableRef.current.positionToHit(e,t);if(n)return{component:this,dateSpan:n.dateSpan,dayEl:n.dayEl,rect:{left:n.relativeRect.left,right:n.relativeRect.right,top:n.relativeRect.top,bottom:n.relativeRect.bottom},layer:0}},n}(u),We=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.forceDayIfListItem=!0,e}return e(n,t),n.prototype.sliceRange=function(e,t){return t.sliceRange(e)},n}(B);function Ie(e,t){var n=new K(e.renderRange,t);return new V(n,/year|month|week/.test(e.currentRangeUnit))}var Le=o({initialView:"dayGridMonth",optionRefiners:{moreLinkClick:Z,moreLinkClassNames:Z,moreLinkContent:Z,moreLinkDidMount:Z,moreLinkWillUnmount:Z},views:{dayGrid:{component:function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.buildDayTableModel=L(Ie),e.headerRef=r(),e.tableRef=r(),e}return e(n,t),n.prototype.render=function(){var e=this,t=this.context,n=t.options,o=t.dateProfileGenerator,r=this.props,i=this.buildDayTableModel(r.dateProfile,o),a=n.dayHeaders&&s(F,{ref:this.headerRef,dateProfile:r.dateProfile,dates:i.headerDates,datesRepDistinctDays:1===i.rowCnt}),l=function(t){return s(Te,{ref:e.tableRef,dateProfile:r.dateProfile,dayTableModel:i,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:n.nextDayThreshold,colGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,dayMaxEvents:n.dayMaxEvents,dayMaxEventRows:n.dayMaxEventRows,showWeekNumbers:n.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:e.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:r.forPrint})};return n.dayMinWidth?this.renderHScrollLayout(a,l,i.colCnt,n.dayMinWidth):this.renderSimpleLayout(a,l)},n}(ce),dateProfileGeneratorClass:function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.buildRenderRange=function(e,n,o){var r,i=this.props.dateEnv,s=t.prototype.buildRenderRange.call(this,e,n,o),a=s.start,l=s.end;if(/^(year|month)$/.test(n)&&(a=i.startOfWeek(a),(r=i.startOfWeek(l)).valueOf()!==l.valueOf()&&(l=G(r,1))),this.props.monthMode&&this.props.fixedWeekCount){var d=Math.ceil(A(a,l));l=G(l,6-d)}return{start:a,end:l}},n}(O)},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}}),ze=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},n.prototype.getKeysForDateSpan=function(e){return e.allDay?["allDay"]:["timed"]},n.prototype.getKeysForEventDef=function(e){return e.allDay?_(e)?["timed","allDay"]:["allDay"]:["timed"]},n}(Q),Be=function(){function e(e,t,n){this.positions=e,this.dateProfile=t,this.slatMetas=n}return e.prototype.safeComputeTop=function(e){var t=this.dateProfile;if(ie(t.currentRange,e)){var n=se(e),o=e.valueOf()-n.valueOf();if(o>=ae(t.slotMinTime)&&o<ae(t.slotMaxTime))return this.computeTimeTop(le(o))}},e.prototype.computeDateTop=function(e,t){return t||(t=se(e)),this.computeTimeTop(le(e.valueOf()-t.valueOf()))},e.prototype.computeTimeTop=function(e){var t,n,o=this,r=o.positions,i=o.dateProfile,s=o.slatMetas,a=r.els.length,l=s[1].date.valueOf()-s[0].date.valueOf(),d=(e.milliseconds-ae(i.slotMinTime))/l;return d=Math.max(0,d),d=Math.min(a,d),t=Math.floor(d),n=d-(t=Math.min(t,a-1)),r.tops[t]+r.getHeight(t)*n},e}(),Fe=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}],Ge=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.rootElRef=r(),e.slatElRefs=new E,e}return e(n,t),n.prototype.render=function(){var e=this.props,t=this.context;return s("div",{className:"fc-timegrid-slots",ref:this.rootElRef},s("table",{className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,s(Ae,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))},n.prototype.componentDidMount=function(){this.updateSizing()},n.prototype.componentDidUpdate=function(){this.updateSizing()},n.prototype.componentWillUnmount=function(){this.props.onCoords&&this.props.onCoords(null)},n.prototype.updateSizing=function(){var e,t=this.props;t.onCoords&&null!==t.clientWidth&&this.rootElRef.current.offsetHeight&&t.onCoords(new Be(new N(this.rootElRef.current,(e=this.slatElRefs.currentMap,t.slatMetas.map((function(t){return e[t.key]}))),!1,!0),this.props.dateProfile,t.slatMetas))},n}(R),Ae=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.render=function(){var e=this.props,t=this.context,n=t.options,o=e.slatElRefs;return s("tbody",null,e.slatMetas.map((function(r,i){var a={time:r.time,date:t.dateEnv.toDate(r.date),view:t.viewApi},l=["fc-timegrid-slot","fc-timegrid-slot-lane",r.isLabeled?"":"fc-timegrid-slot-minor"];return s("tr",{key:r.key,ref:o.createRef(r.key)},e.axis&&s(qe,g({},r)),s(m,{hookProps:a,classNames:n.slotLaneClassNames,content:n.slotLaneContent,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount},(function(e,t,n,o){return s("td",{ref:e,className:l.concat(t).join(" "),"data-time":r.isoTimeStr},o)})))})))},n}(R),Oe=t({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function qe(e){var n=["fc-timegrid-slot","fc-timegrid-slot-label",e.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return s(X.Consumer,null,(function(o){if(e.isLabeled){var r=o.dateEnv,i=o.options,a=o.viewApi,l=null==i.slotLabelFormat?Oe:Array.isArray(i.slotLabelFormat)?t(i.slotLabelFormat[0]):t(i.slotLabelFormat),d={time:e.time,date:r.toDate(e.date),view:a,text:r.format(e.date,l)};return s(m,{hookProps:d,classNames:i.slotLabelClassNames,content:i.slotLabelContent,defaultContent:je,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},(function(t,o,r,i){return s("td",{ref:t,className:n.concat(o).join(" "),"data-time":e.isoTimeStr},s("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},s("div",{className:"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion",ref:r},i)))}))}return s("td",{className:n.join(" "),"data-time":e.isoTimeStr})}))}function je(e){return e.text}function Ue(e,t,n,o,r){for(var i=new Date(0),s=e,a=le(0),l=n||function(e){var t,n,o;for(t=Fe.length-1;t>=0;t--)if(n=le(Fe[t]),null!==(o=re(n,e))&&o>1)return n;return e}(o),d=[];ae(s)<ae(t);){var c=r.add(i,s),u=null!==re(a,l);d.push({date:c,time:s,key:c.toISOString(),isoTimeStr:de(c),isLabeled:u}),s=ee(s,o),a=ee(a,o)}return d}var Ke=t({week:"short"}),Ve=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.allDaySplitter=new ze,e.headerElRef=r(),e.rootElRef=r(),e.scrollerElRef=r(),e.state={slatCoords:null},e.handleScrollTopRequest=function(t){var n=e.scrollerElRef.current;n&&(n.scrollTop=t)},e.renderHeadAxis=function(t){void 0===t&&(t="");var n=e.context.options,o=e.props.dateProfile.renderRange,r=$(o.start,o.end),i=n.navLinks&&1===r?{"data-navlink":p(o.start,"week"),tabIndex:0}:{};return n.weekNumbers?s(v,{date:o.start,defaultFormat:Ke},(function(e,n,o,r){return s("th",{ref:e,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(n).join(" ")},s("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid",style:{height:t}},s("a",g({ref:o,className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion"},i),r)))})):s("th",{className:"fc-timegrid-axis"},s("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},e.renderTableRowAxis=function(t){var n=e.context,o=n.options,r=n.viewApi,i={text:o.allDayText,view:r};return s(m,{hookProps:i,classNames:o.allDayClassNames,content:o.allDayContent,defaultContent:Ze,didMount:o.allDayDidMount,willUnmount:o.allDayWillUnmount},(function(e,n,o,r){return s("td",{ref:e,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(n).join(" ")},s("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame"+(null==t?" fc-timegrid-axis-frame-liquid":""),style:{height:t}},s("span",{className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion",ref:o},r)))}))},e.handleSlatCoords=function(t){e.setState({slatCoords:t})},e}return e(n,t),n.prototype.renderSimpleLayout=function(e,t,n){var o=this.context,r=this.props,d=[],c=i(o.options);return e&&d.push({type:"header",key:"header",isSticky:c,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(d.push({type:"body",key:"all-day",chunk:{content:t}}),d.push({type:"body",key:"all-day-divider",outerContent:s("tr",{className:"fc-scrollgrid-section"},s("td",{className:"fc-timegrid-divider "+o.theme.getClass("tableCellShaded")}))})),d.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(o.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:n}}),s(a,{viewSpec:o.viewSpec,elRef:this.rootElRef},(function(e,t){return s("div",{className:["fc-timegrid"].concat(t).join(" "),ref:e},s(l,{liquid:!r.isHeightAuto&&!r.forPrint,cols:[{width:"shrink"}],sections:d}))}))},n.prototype.renderHScrollLayout=function(e,t,n,o,r,l,u){var f=this,p=this.context.pluginHooks.scrollGridImpl;if(!p)throw new Error("No ScrollGrid implementation");var h=this.context,g=this.props,v=!g.forPrint&&i(h.options),m=!g.forPrint&&d(h.options),y=[];e&&y.push({type:"header",key:"header",isSticky:v,syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(e){return s("tr",null,f.renderHeadAxis(e.rowSyncHeights[0]))}},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(y.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(e){return s("tr",null,f.renderTableRowAxis(e.rowSyncHeights[0]))}},{key:"cols",content:t}]}),y.push({key:"all-day-divider",type:"body",outerContent:s("tr",{className:"fc-scrollgrid-section"},s("td",{colSpan:2,className:"fc-timegrid-divider "+h.theme.getClass("tableCellShaded")}))}));var R=h.options.nowIndicator;return y.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(h.options.expandRows),chunks:[{key:"axis",content:function(e){return s("div",{className:"fc-timegrid-axis-chunk"},s("table",null,e.tableColGroupNode,s("tbody",null,s(_e,{slatMetas:l}))),s("div",{className:"fc-timegrid-now-indicator-container"},s(z,{unit:R?"minute":"day"},(function(e){var t=R&&u&&u.safeComputeTop(e);if("number"==typeof t)return s(J,{isAxis:!0,date:e},(function(e,n,o,r){return s("div",{ref:e,className:["fc-timegrid-now-indicator-arrow"].concat(n).join(" "),style:{top:t}},r)}))}))))}},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),m&&y.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:c},{key:"cols",content:c}]}),s(a,{viewSpec:h.viewSpec,elRef:this.rootElRef},(function(e,t){return s("div",{className:["fc-timegrid"].concat(t).join(" "),ref:e},s(p,{liquid:!g.isHeightAuto&&!g.forPrint,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:o,minWidth:r}]}],sections:y}))}))},n.prototype.getAllDayMaxEventProps=function(){var e=this.context.options,t=e.dayMaxEvents,n=e.dayMaxEventRows;return!0!==t&&!0!==n||(t=void 0,n=5),{dayMaxEvents:t,dayMaxEventRows:n}},n}(u);function Ze(e){return e.text}var _e=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.render=function(){return this.props.slatMetas.map((function(e){return s("tr",{key:e.key},s(qe,g({},e)))}))},n}(R);function Qe(e,t){var n,o=[];for(n=0;n<t;n++)o.push([]);if(e)for(n=0;n<e.length;n++)o[e[n].col].push(e[n]);return o}function Xe(e,t){var n=[];if(e){for(s=0;s<t;s++)n[s]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(var o=0,r=e.segs;o<r.length;o++){var i=r[o];n[i.col].segs.push(i)}}else for(var s=0;s<t;s++)n[s]=null;return n}function $e(e,t,n,o){for(var r=0,i=e;r<i.length;r++){var s=i[r];s.top=n.computeDateTop(s.start,t),s.bottom=Math.max(s.top+(o||0),n.computeDateTop(s.end,t))}}function Je(e,t,n){void 0===n&&(n=[]);for(var o=0;o<t.length;o++)r=e,i=t[o],r.bottom>i.top&&r.top<i.bottom&&n.push(t[o]);var r,i;return n}function Ye(e){var t,n,o=e.forwardSegs,r=0;if(null==e.forwardPressure){for(t=0;t<o.length;t++)Ye(n=o[t]),r=Math.max(r,1+n.forwardPressure);e.forwardPressure=r}}function et(e,t,n,o){var r,i=e.forwardSegs;if(null==e.forwardCoord)for(i.length?(function(e,t){var n=e.map(tt),o=[{field:"forwardPressure",order:-1},{field:"backwardCoord",order:1}].concat(t);n.sort((function(e,t){return ne(e,t,o)})),n.map((function(e){return e._seg}))}(i,o),et(i[0],t+1,n,o),e.forwardCoord=i[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-n)/(t+1),r=0;r<i.length;r++)et(i[r],0,e.forwardCoord,o)}function tt(e){var t=oe(e);return t.forwardPressure=e.forwardPressure,t.backwardCoord=e.backwardCoord,t}var nt=t({hour:"numeric",minute:"2-digit",meridiem:!1}),ot=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.render=function(){var e=["fc-timegrid-event","fc-v-event"];return this.props.isCondensed&&e.push("fc-timegrid-event-condensed"),s(w,g({},this.props,{defaultTimeFormat:nt,extraClassNames:e}))},n}(R);Y.timeGridEventCondensedHeight=30;var rt=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.render=function(){var e=this,t=this.props,n=this.context.options.selectMirror,o=t.eventDrag&&t.eventDrag.segs||t.eventResize&&t.eventResize.segs||n&&t.dateSelectionSegs||[],r=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{};return s(h,{elRef:t.elRef,date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraHookProps:t.extraHookProps},(function(i,a,l){return s("td",g({ref:i,className:["fc-timegrid-col"].concat(a,t.extraClassNames||[]).join(" ")},l,t.extraDataAttrs),s("div",{className:"fc-timegrid-col-frame"},s("div",{className:"fc-timegrid-col-bg"},e.renderFillSegs(t.businessHourSegs,"non-business"),e.renderFillSegs(t.bgEventSegs,"bg-event"),e.renderFillSegs(t.dateSelectionSegs,"highlight")),s("div",{className:"fc-timegrid-col-events"},e.renderFgSegs(t.fgEventSegs,r)),s("div",{className:"fc-timegrid-col-events"},e.renderFgSegs(o,{},Boolean(t.eventDrag),Boolean(t.eventResize),Boolean(n))),s("div",{className:"fc-timegrid-now-indicator-container"},e.renderNowIndicator(t.nowIndicatorSegs)),s(it,{date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraHookProps:t.extraHookProps})))}))},n.prototype.renderFgSegs=function(e,t,n,o,r){var i=this.props;return i.forPrint?this.renderPrintFgSegs(e):i.slatCoords?this.renderPositionedFgSegs(e,t,n,o,r):void 0},n.prototype.renderPrintFgSegs=function(e){var t=this.props;return e.map((function(e){return s("div",{className:"fc-timegrid-event-harness",key:e.eventRange.instance.instanceId},s(ot,g({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isCondensed:!1},x(e,t.todayRange,t.nowDate))))}))},n.prototype.renderPositionedFgSegs=function(e,t,n,o,r){var i=this,a=this.context,l=this.props;return(e=function(e,t,n,o,r){return $e(e,t,n,o),function(e,t){for(var n=0,o=e;n<o.length;n++)(c=o[n]).level=null,c.forwardCoord=null,c.backwardCoord=null,c.forwardPressure=null;var r,i=function(e){var t,n,o,r=[];for(t=0;t<e.length;t++){for(n=e[t],o=0;o<r.length&&Je(n,r[o]).length;o++);n.level=o,(r[o]||(r[o]=[])).push(n)}return r}(e=q(e,t));if(function(e){var t,n,o,r,i;for(t=0;t<e.length;t++)for(n=e[t],o=0;o<n.length;o++)for((r=n[o]).forwardSegs=[],i=t+1;i<e.length;i++)Je(r,e[i],r.forwardSegs)}(i),r=i[0]){for(var s=0,a=r;s<a.length;s++)Ye(c=a[s]);for(var l=0,d=r;l<d.length;l++){var c;et(c=d[l],0,0,t)}}return e}(e,r)}(e,l.date,l.slatCoords,a.options.eventMinHeight,a.options.eventOrder)).map((function(e){var a=e.eventRange.instance.instanceId,d=n||o||r?g({left:0,right:0},i.computeSegTopBottomCss(e)):i.computeFgSegPositionCss(e);return s("div",{className:"fc-timegrid-event-harness"+(e.level>0?" fc-timegrid-event-harness-inset":""),key:a,style:g({visibility:t[a]?"hidden":""},d)},s(ot,g({seg:e,isDragging:n,isResizing:o,isDateSelecting:r,isSelected:a===l.eventSelection,isCondensed:e.bottom-e.top<Y.timeGridEventCondensedHeight},x(e,l.todayRange,l.nowDate))))}))},n.prototype.renderFillSegs=function(e,t){var n=this,o=this.context,r=this.props;if(r.slatCoords){$e(e,r.date,r.slatCoords,o.options.eventMinHeight);var i=e.map((function(e){return s("div",{key:k(e.eventRange),className:"fc-timegrid-bg-harness",style:n.computeSegTopBottomCss(e)},"bg-event"===t?s(D,g({seg:e},x(e,r.todayRange,r.nowDate))):M(t))}));return s(b,null,i)}},n.prototype.renderNowIndicator=function(e){var t=this.props,n=t.slatCoords,o=t.date;if(n)return e.map((function(e,t){return s(J,{isAxis:!1,date:o,key:t},(function(t,r,i,a){return s("div",{ref:t,className:["fc-timegrid-now-indicator-line"].concat(r).join(" "),style:{top:n.computeDateTop(e.start,o)}},a)}))}))},n.prototype.computeFgSegPositionCss=function(e){var t,n,o=this.context,r=o.isRtl,i=o.options.slotEventOverlap,s=e.backwardCoord,a=e.forwardCoord;i&&(a=Math.min(1,s+2*(a-s))),r?(t=1-a,n=s):(t=s,n=1-a);var l={zIndex:e.level+1,left:100*t+"%",right:100*n+"%"};return i&&e.forwardPressure&&(l[r?"marginLeft":"marginRight"]=20),g(g({},l),this.computeSegTopBottomCss(e))},n.prototype.computeSegTopBottomCss=function(e){return{top:e.top,bottom:-e.bottom}},n}(R),it=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.render=function(){var e=this.props;return s(y,{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraHookProps:e.extraHookProps},(function(e,t){return t&&s("div",{className:"fc-timegrid-col-misc",ref:e},t)}))},n}(R),st=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.splitFgEventSegs=L(Qe),e.splitBgEventSegs=L(Qe),e.splitBusinessHourSegs=L(Qe),e.splitNowIndicatorSegs=L(Qe),e.splitDateSelectionSegs=L(Qe),e.splitEventDrag=L(Xe),e.splitEventResize=L(Xe),e.rootElRef=r(),e.cellElRefs=new E,e}return e(n,t),n.prototype.render=function(){var e=this,t=this.props,n=this.context.options.nowIndicator&&t.slatCoords&&t.slatCoords.safeComputeTop(t.nowDate),o=t.cells.length,r=this.splitFgEventSegs(t.fgEventSegs,o),i=this.splitBgEventSegs(t.bgEventSegs,o),a=this.splitBusinessHourSegs(t.businessHourSegs,o),l=this.splitNowIndicatorSegs(t.nowIndicatorSegs,o),d=this.splitDateSelectionSegs(t.dateSelectionSegs,o),c=this.splitEventDrag(t.eventDrag,o),u=this.splitEventResize(t.eventResize,o);return s("div",{className:"fc-timegrid-cols",ref:this.rootElRef},s("table",{style:{minWidth:t.tableMinWidth,width:t.clientWidth}},t.tableColGroupNode,s("tbody",null,s("tr",null,t.axis&&s("td",{className:"fc-timegrid-col fc-timegrid-axis"},s("div",{className:"fc-timegrid-col-frame"},s("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof n&&s(J,{isAxis:!0,date:t.nowDate},(function(e,t,o,r){return s("div",{ref:e,className:["fc-timegrid-now-indicator-arrow"].concat(t).join(" "),style:{top:n}},r)}))))),t.cells.map((function(n,o){return s(rt,{key:n.key,elRef:e.cellElRefs.createRef(n.key),dateProfile:t.dateProfile,date:n.date,nowDate:t.nowDate,todayRange:t.todayRange,extraHookProps:n.extraHookProps,extraDataAttrs:n.extraDataAttrs,extraClassNames:n.extraClassNames,fgEventSegs:r[o],bgEventSegs:i[o],businessHourSegs:a[o],nowIndicatorSegs:l[o],dateSelectionSegs:d[o],eventDrag:c[o],eventResize:u[o],slatCoords:t.slatCoords,eventSelection:t.eventSelection,forPrint:t.forPrint})}))))))},n.prototype.componentDidMount=function(){this.updateCoords()},n.prototype.componentDidUpdate=function(){this.updateCoords()},n.prototype.updateCoords=function(){var e,t=this.props;t.onColCoords&&null!==t.clientWidth&&t.onColCoords(new N(this.rootElRef.current,(e=this.cellElRefs.currentMap,t.cells.map((function(t){return e[t.key]}))),!0,!1))},n}(R),at=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.processSlotOptions=L(lt),e.state={slatCoords:null},e.handleScrollRequest=function(t){var n=e.props.onScrollTopRequest,o=e.state.slatCoords;if(n&&o){if(t.time){var r=o.computeTimeTop(t.time);(r=Math.ceil(r))&&r++,n(r)}return!0}},e.handleColCoords=function(t){e.colCoords=t},e.handleSlatCoords=function(t){e.setState({slatCoords:t}),e.props.onSlatCoords&&e.props.onSlatCoords(t)},e}return e(n,t),n.prototype.render=function(){var e=this.props,t=this.state;return s("div",{className:"fc-timegrid-body",ref:e.rootElRef,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},s(Ge,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),s(st,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))},n.prototype.componentDidMount=function(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},n.prototype.componentDidUpdate=function(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)},n.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},n.prototype.positionToHit=function(e,t){var n=this.context,o=n.dateEnv,r=n.options,i=this.colCoords,s=this.props.dateProfile,a=this.state.slatCoords,l=this.processSlotOptions(this.props.slotDuration,r.snapDuration),d=l.snapDuration,c=l.snapsPerSlot,u=i.leftToIndex(e),f=a.positions.topToIndex(t);if(null!=u&&null!=f){var p=a.positions.tops[f],h=a.positions.getHeight(f),g=(t-p)/h,v=f*c+Math.floor(g*c),m=this.props.cells[u].date,y=ee(s.slotMinTime,te(d,v)),R=o.add(m,y);return{col:u,dateSpan:{range:{start:R,end:o.add(R,d)},allDay:!1},dayEl:i.els[u],relativeRect:{left:i.lefts[u],right:i.rights[u],top:p,bottom:p+h}}}},n}(R);function lt(e,t){var n=t||e,o=re(e,n);return null===o&&(n=e,o=1),{snapDuration:n,snapsPerSlot:o}}var dt=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.buildDayRanges=L(ct),e.slicer=new ut,e.timeColsRef=r(),e.handleRootEl=function(t){t?e.context.registerInteractiveComponent(e,{el:t}):e.context.unregisterInteractiveComponent(e)},e}return e(n,t),n.prototype.render=function(){var e=this,t=this.props,n=this.context,o=t.dateProfile,r=t.dayTableModel,i=n.options.nowIndicator,a=this.buildDayRanges(r,o,n.dateEnv);return s(z,{unit:i?"minute":"day"},(function(l,d){return s(at,g({ref:e.timeColsRef,rootElRef:e.handleRootEl},e.slicer.sliceProps(t,o,null,n,a),{forPrint:t.forPrint,axis:t.axis,dateProfile:o,slatMetas:t.slatMetas,slotDuration:t.slotDuration,cells:r.cells[0],tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,expandRows:t.expandRows,nowDate:l,nowIndicatorSegs:i&&e.slicer.sliceNowDate(l,n,a),todayRange:d,onScrollTopRequest:t.onScrollTopRequest,onSlatCoords:t.onSlatCoords}))}))},n.prototype.queryHit=function(e,t){var n=this.timeColsRef.current.positionToHit(e,t);if(n)return{component:this,dateSpan:n.dateSpan,dayEl:n.dayEl,rect:{left:n.relativeRect.left,right:n.relativeRect.right,top:n.relativeRect.top,bottom:n.relativeRect.bottom},layer:0}},n}(u);function ct(e,t,n){for(var o=[],r=0,i=e.headerDates;r<i.length;r++){var s=i[r];o.push({start:n.add(s,t.slotMinTime),end:n.add(s,t.slotMaxTime)})}return o}var ut=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.sliceRange=function(e,t){for(var n=[],o=0;o<t.length;o++){var r=j(e,t[o]);r&&n.push({start:r.start,end:r.end,isStart:r.start.valueOf()===e.start.valueOf(),isEnd:r.end.valueOf()===e.end.valueOf(),col:o})}return n},n}(B),ft=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.buildTimeColsModel=L(pt),e.buildSlatMetas=L(Ue),e}return e(n,t),n.prototype.render=function(){var e=this,t=this.context,n=t.options,o=t.dateEnv,r=t.dateProfileGenerator,i=this.props,a=i.dateProfile,l=this.buildTimeColsModel(a,r),d=this.allDaySplitter.splitProps(i),c=this.buildSlatMetas(a.slotMinTime,a.slotMaxTime,n.slotLabelInterval,n.slotDuration,o),u=n.dayMinWidth,f=!u,p=u,h=n.dayHeaders&&s(F,{dates:l.headerDates,dateProfile:a,datesRepDistinctDays:!0,renderIntro:f?this.renderHeadAxis:null}),v=!1!==n.allDaySlot&&function(t){return s(Te,g({},d.allDay,{dateProfile:a,dayTableModel:l,nextDayThreshold:n.nextDayThreshold,tableMinWidth:t.tableMinWidth,colGroupNode:t.tableColGroupNode,renderRowIntro:f?e.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:e.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:i.forPrint},e.getAllDayMaxEventProps()))},m=function(t){return s(dt,g({},d.timed,{dayTableModel:l,dateProfile:a,axis:f,slotDuration:n.slotDuration,slatMetas:c,forPrint:i.forPrint,tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,onSlatCoords:e.handleSlatCoords,expandRows:t.expandRows,onScrollTopRequest:e.handleScrollTopRequest}))};return p?this.renderHScrollLayout(h,v,m,l.colCnt,u,c,this.state.slatCoords):this.renderSimpleLayout(h,v,m)},n}(Ve);function pt(e,t){var n=new K(e.renderRange,t);return new V(n,!1)}var ht=o({initialView:"timeGridWeek",optionRefiners:{allDaySlot:Boolean},views:{timeGrid:{component:ft,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});export{ht as a,Le as m};
