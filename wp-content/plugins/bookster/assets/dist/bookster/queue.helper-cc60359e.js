var e=Object.defineProperty,t=(t,s,r)=>(((t,s,r)=>{s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r})(t,"symbol"!=typeof s?s+"":s,r),r);import{r as s,R as r,_ as n,a}from"./prefetch.helper-04349684.js";const l=s.forwardRef((({isSaving:e,className:t,...s},l)=>r.createElement("span",{className:n.cx("bw-ms-3 bw-inline-flex bw-items-center bw-gap-2 bw-text-base bw-font-normal bw-text-gray-500",!1===e&&"bw-text-success",t),...s,ref:l},null===e&&null,!1===e&&r.createElement(r.Fragment,null,r.createElement(a.CheckCircle,null)," Saved"),!0===e&&r.createElement(r.Fragment,null,r.createElement(a.Loader2,{className:"bw-animate-spin"})," Saving..."))));class i{constructor(){t(this,"queue",Promise.resolve(-1)),t(this,"incrementId",1),t(this,"completeCb")}add(e,t){this.completeCb=t,this.incrementId++;const s=this.incrementId,r=this.queue.then(e);return this.queue=r,new Promise(((e,t)=>{r.then((t=>{this.onComplete(s),e(t)})).catch((e=>{this.onError(),t(e)}))}))}onError(){this.queue=Promise.resolve(-1)}onComplete(e){this.incrementId===e&&this.completeCb&&this.completeCb()}}export{i as P,l as S};
